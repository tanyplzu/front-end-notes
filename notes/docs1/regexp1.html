<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 正则表达式 | 朝花夕拾</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="朝花夕拾技术空间">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, minimum-scale=1">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.e3cb5c2f.css" as="style"><link rel="preload" href="/assets/js/app.7e1effa2.js" as="script"><link rel="preload" href="/assets/js/38.9c1eeb6e.js" as="script"><link rel="preload" href="/assets/js/3.dea4e8e5.js" as="script"><link rel="preload" href="/assets/js/170.dbe223bc.js" as="script"><link rel="prefetch" href="/assets/js/10.86925cab.js"><link rel="prefetch" href="/assets/js/100.824e3d48.js"><link rel="prefetch" href="/assets/js/101.10a8dbba.js"><link rel="prefetch" href="/assets/js/102.17ef991d.js"><link rel="prefetch" href="/assets/js/103.14be2857.js"><link rel="prefetch" href="/assets/js/104.0e8cc35e.js"><link rel="prefetch" href="/assets/js/105.e4dbba35.js"><link rel="prefetch" href="/assets/js/106.f5b69375.js"><link rel="prefetch" href="/assets/js/107.74f02016.js"><link rel="prefetch" href="/assets/js/108.54681300.js"><link rel="prefetch" href="/assets/js/109.5bcd8a31.js"><link rel="prefetch" href="/assets/js/11.933f43b8.js"><link rel="prefetch" href="/assets/js/110.b543577b.js"><link rel="prefetch" href="/assets/js/111.941fc6ef.js"><link rel="prefetch" href="/assets/js/112.4a8edb64.js"><link rel="prefetch" href="/assets/js/113.909b0441.js"><link rel="prefetch" href="/assets/js/114.b4b10cc1.js"><link rel="prefetch" href="/assets/js/115.189862d1.js"><link rel="prefetch" href="/assets/js/116.d961401a.js"><link rel="prefetch" href="/assets/js/117.5005f570.js"><link rel="prefetch" href="/assets/js/118.c3d8301b.js"><link rel="prefetch" href="/assets/js/119.2c03822d.js"><link rel="prefetch" href="/assets/js/12.394aa2be.js"><link rel="prefetch" href="/assets/js/120.f2f77182.js"><link rel="prefetch" href="/assets/js/121.e65d81f4.js"><link rel="prefetch" href="/assets/js/122.e51a51e6.js"><link rel="prefetch" href="/assets/js/123.e8e134bd.js"><link rel="prefetch" href="/assets/js/124.8dbfc243.js"><link rel="prefetch" href="/assets/js/125.811a1cde.js"><link rel="prefetch" href="/assets/js/126.a9cd12a8.js"><link rel="prefetch" href="/assets/js/127.7461e762.js"><link rel="prefetch" href="/assets/js/128.8dee0540.js"><link rel="prefetch" href="/assets/js/129.48de5096.js"><link rel="prefetch" href="/assets/js/13.73416f05.js"><link rel="prefetch" href="/assets/js/130.43d68427.js"><link rel="prefetch" href="/assets/js/131.c321627d.js"><link rel="prefetch" href="/assets/js/132.c3fd1027.js"><link rel="prefetch" href="/assets/js/133.183b5fee.js"><link rel="prefetch" href="/assets/js/134.ec9fe373.js"><link rel="prefetch" href="/assets/js/135.95fd6eaa.js"><link rel="prefetch" href="/assets/js/136.3516ed61.js"><link rel="prefetch" href="/assets/js/137.5fc8a88d.js"><link rel="prefetch" href="/assets/js/138.701197cd.js"><link rel="prefetch" href="/assets/js/139.b84b0f82.js"><link rel="prefetch" href="/assets/js/14.a1b86171.js"><link rel="prefetch" href="/assets/js/140.c44ff509.js"><link rel="prefetch" href="/assets/js/141.f43c9c56.js"><link rel="prefetch" href="/assets/js/142.84a9bcc0.js"><link rel="prefetch" href="/assets/js/143.361317aa.js"><link rel="prefetch" href="/assets/js/144.cca354f1.js"><link rel="prefetch" href="/assets/js/145.4d7a5524.js"><link rel="prefetch" href="/assets/js/146.0c1c2463.js"><link rel="prefetch" href="/assets/js/147.c04bb4f6.js"><link rel="prefetch" href="/assets/js/148.20c10584.js"><link rel="prefetch" href="/assets/js/149.04da8d74.js"><link rel="prefetch" href="/assets/js/15.906b3d7e.js"><link rel="prefetch" href="/assets/js/150.b7ee47c6.js"><link rel="prefetch" href="/assets/js/151.08f1090e.js"><link rel="prefetch" href="/assets/js/152.ae97ee44.js"><link rel="prefetch" href="/assets/js/153.46bb619a.js"><link rel="prefetch" href="/assets/js/154.0531f457.js"><link rel="prefetch" href="/assets/js/155.f6118683.js"><link rel="prefetch" href="/assets/js/156.a886cdd7.js"><link rel="prefetch" href="/assets/js/157.e9436e73.js"><link rel="prefetch" href="/assets/js/158.2bcaf552.js"><link rel="prefetch" href="/assets/js/159.4e8c8cca.js"><link rel="prefetch" href="/assets/js/16.19a0509d.js"><link rel="prefetch" href="/assets/js/160.430a12b5.js"><link rel="prefetch" href="/assets/js/161.641df6f8.js"><link rel="prefetch" href="/assets/js/162.91f3f55f.js"><link rel="prefetch" href="/assets/js/163.e614ed49.js"><link rel="prefetch" href="/assets/js/164.bfbbcc4d.js"><link rel="prefetch" href="/assets/js/165.d009de1b.js"><link rel="prefetch" href="/assets/js/166.f0407e3c.js"><link rel="prefetch" href="/assets/js/167.1a4ca45e.js"><link rel="prefetch" href="/assets/js/168.138b34f4.js"><link rel="prefetch" href="/assets/js/169.739944f3.js"><link rel="prefetch" href="/assets/js/17.9684d7e2.js"><link rel="prefetch" href="/assets/js/171.0014aefb.js"><link rel="prefetch" href="/assets/js/172.31f4a0c8.js"><link rel="prefetch" href="/assets/js/173.9496d7ba.js"><link rel="prefetch" href="/assets/js/174.3b5566ff.js"><link rel="prefetch" href="/assets/js/175.86ea3dbb.js"><link rel="prefetch" href="/assets/js/176.5ed5d1e5.js"><link rel="prefetch" href="/assets/js/177.2b37d154.js"><link rel="prefetch" href="/assets/js/178.de992079.js"><link rel="prefetch" href="/assets/js/179.224f49e1.js"><link rel="prefetch" href="/assets/js/18.1ebdbda0.js"><link rel="prefetch" href="/assets/js/180.5154c3b2.js"><link rel="prefetch" href="/assets/js/181.60b70aa8.js"><link rel="prefetch" href="/assets/js/182.756acee0.js"><link rel="prefetch" href="/assets/js/183.aeb0cdbe.js"><link rel="prefetch" href="/assets/js/184.523714c5.js"><link rel="prefetch" href="/assets/js/185.0d4e03d8.js"><link rel="prefetch" href="/assets/js/186.dbf3412c.js"><link rel="prefetch" href="/assets/js/187.98989189.js"><link rel="prefetch" href="/assets/js/188.01e3968d.js"><link rel="prefetch" href="/assets/js/189.61ebf084.js"><link rel="prefetch" href="/assets/js/19.c25881ee.js"><link rel="prefetch" href="/assets/js/190.a15eed59.js"><link rel="prefetch" href="/assets/js/191.20534796.js"><link rel="prefetch" href="/assets/js/192.9d5f4ff5.js"><link rel="prefetch" href="/assets/js/193.8e7ac354.js"><link rel="prefetch" href="/assets/js/194.3e074d66.js"><link rel="prefetch" href="/assets/js/195.dc58737d.js"><link rel="prefetch" href="/assets/js/196.1d4abdeb.js"><link rel="prefetch" href="/assets/js/197.6384cb36.js"><link rel="prefetch" href="/assets/js/198.b2037a8e.js"><link rel="prefetch" href="/assets/js/199.c37b0e8e.js"><link rel="prefetch" href="/assets/js/20.d2c84fe9.js"><link rel="prefetch" href="/assets/js/200.165d7131.js"><link rel="prefetch" href="/assets/js/201.a3f7e907.js"><link rel="prefetch" href="/assets/js/21.456fe10f.js"><link rel="prefetch" href="/assets/js/22.8b2266ed.js"><link rel="prefetch" href="/assets/js/23.bd8fc307.js"><link rel="prefetch" href="/assets/js/24.abe92a4a.js"><link rel="prefetch" href="/assets/js/25.b2fca8cc.js"><link rel="prefetch" href="/assets/js/26.c283e9bb.js"><link rel="prefetch" href="/assets/js/27.a27bddab.js"><link rel="prefetch" href="/assets/js/28.29747cd1.js"><link rel="prefetch" href="/assets/js/29.a9df2d78.js"><link rel="prefetch" href="/assets/js/30.0060a977.js"><link rel="prefetch" href="/assets/js/31.bbc2ebe9.js"><link rel="prefetch" href="/assets/js/32.f1c4ed01.js"><link rel="prefetch" href="/assets/js/33.1fd8472a.js"><link rel="prefetch" href="/assets/js/34.a40263cf.js"><link rel="prefetch" href="/assets/js/35.9eefd98d.js"><link rel="prefetch" href="/assets/js/36.aa6a4b93.js"><link rel="prefetch" href="/assets/js/37.c2fe6fe3.js"><link rel="prefetch" href="/assets/js/39.021538ca.js"><link rel="prefetch" href="/assets/js/4.aa6490bf.js"><link rel="prefetch" href="/assets/js/40.bd2bc5e7.js"><link rel="prefetch" href="/assets/js/41.1d141937.js"><link rel="prefetch" href="/assets/js/42.3eac3c75.js"><link rel="prefetch" href="/assets/js/43.dcf95fb5.js"><link rel="prefetch" href="/assets/js/44.ba342d24.js"><link rel="prefetch" href="/assets/js/45.ec0c95e6.js"><link rel="prefetch" href="/assets/js/46.6c228836.js"><link rel="prefetch" href="/assets/js/47.e0b1efd4.js"><link rel="prefetch" href="/assets/js/48.17106a86.js"><link rel="prefetch" href="/assets/js/49.d24a36fe.js"><link rel="prefetch" href="/assets/js/5.9707160a.js"><link rel="prefetch" href="/assets/js/50.1e27a5c8.js"><link rel="prefetch" href="/assets/js/51.3f252642.js"><link rel="prefetch" href="/assets/js/52.a63b41c9.js"><link rel="prefetch" href="/assets/js/53.4eaaca26.js"><link rel="prefetch" href="/assets/js/54.99eda7e7.js"><link rel="prefetch" href="/assets/js/55.b6a8de1d.js"><link rel="prefetch" href="/assets/js/56.ff8caea3.js"><link rel="prefetch" href="/assets/js/57.a8ecfda1.js"><link rel="prefetch" href="/assets/js/58.9e4e3a36.js"><link rel="prefetch" href="/assets/js/59.a59efd57.js"><link rel="prefetch" href="/assets/js/6.d1352e3f.js"><link rel="prefetch" href="/assets/js/60.27c4fcd4.js"><link rel="prefetch" href="/assets/js/61.b6435aef.js"><link rel="prefetch" href="/assets/js/62.05126af2.js"><link rel="prefetch" href="/assets/js/63.5685ec25.js"><link rel="prefetch" href="/assets/js/64.e255ead0.js"><link rel="prefetch" href="/assets/js/65.443233d1.js"><link rel="prefetch" href="/assets/js/66.58e1b039.js"><link rel="prefetch" href="/assets/js/67.d1f44273.js"><link rel="prefetch" href="/assets/js/68.6dbc079c.js"><link rel="prefetch" href="/assets/js/69.59ae4aea.js"><link rel="prefetch" href="/assets/js/7.4536af21.js"><link rel="prefetch" href="/assets/js/70.15324845.js"><link rel="prefetch" href="/assets/js/71.6f74dcde.js"><link rel="prefetch" href="/assets/js/72.76338e49.js"><link rel="prefetch" href="/assets/js/73.789ab215.js"><link rel="prefetch" href="/assets/js/74.456df025.js"><link rel="prefetch" href="/assets/js/75.7c90efaf.js"><link rel="prefetch" href="/assets/js/76.4033a860.js"><link rel="prefetch" href="/assets/js/77.efa1010a.js"><link rel="prefetch" href="/assets/js/78.4d00931f.js"><link rel="prefetch" href="/assets/js/79.d75cb47f.js"><link rel="prefetch" href="/assets/js/8.62ce477c.js"><link rel="prefetch" href="/assets/js/80.eaa60fee.js"><link rel="prefetch" href="/assets/js/81.c464c6ec.js"><link rel="prefetch" href="/assets/js/82.01534af2.js"><link rel="prefetch" href="/assets/js/83.90ddb538.js"><link rel="prefetch" href="/assets/js/84.30f8600f.js"><link rel="prefetch" href="/assets/js/85.e795c252.js"><link rel="prefetch" href="/assets/js/86.57ad9d4e.js"><link rel="prefetch" href="/assets/js/87.faf25c35.js"><link rel="prefetch" href="/assets/js/88.a79f4b36.js"><link rel="prefetch" href="/assets/js/89.6034e7b0.js"><link rel="prefetch" href="/assets/js/9.0f29bce1.js"><link rel="prefetch" href="/assets/js/90.7285d35b.js"><link rel="prefetch" href="/assets/js/91.848a8afd.js"><link rel="prefetch" href="/assets/js/92.3446dbd4.js"><link rel="prefetch" href="/assets/js/93.c8c13e10.js"><link rel="prefetch" href="/assets/js/94.a3d8d6d9.js"><link rel="prefetch" href="/assets/js/95.ba5083f7.js"><link rel="prefetch" href="/assets/js/96.60afdeac.js"><link rel="prefetch" href="/assets/js/97.bac28b9e.js"><link rel="prefetch" href="/assets/js/98.ef84532b.js"><link rel="prefetch" href="/assets/js/99.530e2d12.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.3977d582.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e3cb5c2f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">朝花夕拾</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  技术方案
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  数据结构与算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  技术方案
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  数据结构与算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础语法：</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs1/对象静态方法总结分享.html" class="sidebar-link">Object 静态方法总结</a></li><li><a href="/notes/docs1/regexp1.html" aria-current="page" class="active sidebar-link">JavaScript 正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/docs1/regexp1.html#创建一个正则表达式" class="sidebar-link">创建一个正则表达式</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/regexp1.html#正则表达式字符匹配攻略" class="sidebar-link">正则表达式字符匹配攻略</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/regexp1.html#正则表达式位置匹配攻略" class="sidebar-link">正则表达式位置匹配攻略</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/regexp1.html#test-exec-match-replace-用法介绍" class="sidebar-link">test, exec, match, replace 用法介绍</a></li></ul></li><li><a href="/notes/docs1/regexp2.html" class="sidebar-link">正则表达式中的括号</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>文档(一)：</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs1/性能优化.html" class="sidebar-link">前端性能优化</a></li><li><a href="/notes/docs1/router.html" class="sidebar-link">前端路由</a></li><li><a href="/notes/docs1/Vue虚拟DOM和渲染流程.html" class="sidebar-link">Vue 虚拟 DOM 及渲染流程</a></li><li><a href="/notes/docs1/编译型语言和解释型语言.html" class="sidebar-link">编译型语言和解释型语言</a></li><li><a href="/notes/docs1/手机端开发问题汇总.html" class="sidebar-link">手机端开发问题汇总</a></li><li><a href="/notes/docs1/前端面试.html" class="sidebar-link">前端常考面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>文档(二)：</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs2/数字.html" class="sidebar-link">前端数字</a></li><li><a href="/notes/docs2/字符串方法.html" class="sidebar-link">String</a></li><li><a href="/notes/docs2/math.html" class="sidebar-link">math</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>文档(三)：</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs4/密码学.html" class="sidebar-link">卓克密码学 30 讲</a></li><li><a href="/notes/docs4/vuepress.html" class="sidebar-link">vuepress 配置</a></li><li><a href="/notes/docs4/vsCode.html" class="sidebar-link">VS Code 快捷键</a></li><li><a href="/notes/docs4/Java英语.html" class="sidebar-link">Java 英语</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript-正则表达式"><a href="#javascript-正则表达式" class="header-anchor">#</a> JavaScript 正则表达式</h1> <p></p><div class="table-of-contents"><ul><li><a href="#创建一个正则表达式">创建一个正则表达式</a></li><li><a href="#正则表达式字符匹配攻略">正则表达式字符匹配攻略</a><ul><li><a href="#两种模糊匹配">两种模糊匹配</a></li><li><a href="#横向模糊匹配">横向模糊匹配</a></li><li><a href="#纵向模糊匹配">纵向模糊匹配</a></li><li><a href="#字符组">字符组</a></li><li><a href="#x-y">x|y</a></li><li><a href="#常见的简写形式">常见的简写形式</a></li><li><a href="#量词">量词</a></li><li><a href="#多选分支">多选分支</a></li><li><a href="#案例分析">案例分析</a></li></ul></li><li><a href="#正则表达式位置匹配攻略">正则表达式位置匹配攻略</a><ul><li><a href="#什么是位置呢">什么是位置呢</a></li><li><a href="#如何匹配位置呢">如何匹配位置呢</a></li><li><a href="#位置的特性">位置的特性</a></li><li><a href="#相关案例">相关案例</a></li></ul></li><li><a href="#test-exec-match-replace-用法介绍">test, exec, match, replace 用法介绍</a></li></ul></div><p></p> <h2 id="创建一个正则表达式"><a href="#创建一个正则表达式" class="header-anchor">#</a> 创建一个正则表达式</h2> <p>你可以使用以下两种方法之一构建一个正则表达式：使用一个正则表达式字面量，其由包含在斜杠之间的模式组成，如下所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab+c</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab+c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
</code></pre></div><p>或者调用 <code>RegExp</code> 对象的构造函数，如下所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'ab+c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]+[0-9]*\W?_$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'gi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="正则表达式字符匹配攻略"><a href="#正则表达式字符匹配攻略" class="header-anchor">#</a> 正则表达式字符匹配攻略</h2> <blockquote><p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。</p></blockquote> <h3 id="两种模糊匹配"><a href="#两种模糊匹配" class="header-anchor">#</a> 两种模糊匹配</h3> <p>如果正则只有精确匹配是没多大意义的，比如 <code>/hello/</code> ，也只能匹配字符串中的 <code>&quot;hello&quot;</code> 这个子串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hello</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hel333lo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>
</code></pre></div><p>正则表达式之所以强大，是因为其能实现模糊匹配。而模糊匹配，有两个方向上的“模糊”：横向模糊和纵向模糊。</p> <h3 id="横向模糊匹配"><a href="#横向模糊匹配" class="header-anchor">#</a> 横向模糊匹配</h3> <blockquote><p>横向模糊指的是，一个正则可匹配的字符串的长度不是固定的，可以是多种情况的。其实现的方式是使用量词。譬如 <code>{m,n}</code> ，表示连续出现最少 <code>m</code> 次，最多 <code>n</code> 次。比如 <code>/ab{2,5}c/</code> 表示匹配这样一个字符串：第一个字符是 <code>“a”</code> ，接下来是 2 到 5 个字符 <code>“b”</code> ，最后是字符 <code>“c”</code> 。</p></blockquote> <p>测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{2,5}c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'abc abbc abbbc abbbbc abbbbbc abbbbbbc'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;abbc&quot;, &quot;abbbc&quot;, &quot;abbbbc&quot;, &quot;abbbbbc&quot;]</span>
</code></pre></div><p>Tips: 案例中用的正则是 <code>/ab{2,5}c/g</code> ，后面多了 <code>g</code> ，它是正则的一个修饰符。表示全局匹配，即在目标字符串中按顺序找到满足匹配模式的所有子串，强调的是“所有”，而不只是“第一个”。<code>g</code> 是单词 <code>global</code> 的首字母。</p> <h3 id="纵向模糊匹配"><a href="#纵向模糊匹配" class="header-anchor">#</a> 纵向模糊匹配</h3> <blockquote><p>纵向模糊指的是，一个正则匹配的字符串，具体到某一位字符时，它可以不是某个确定的字符，可以有多种可能。其实现的方式是使用字符组。譬如 <code>[abc]</code> ，表示该字符可以是字符 'a'、'b'、'c' 中的任何一个。比如 <code>/a[123]b/</code> 可以匹配如下三种字符串：'a1b'、'a2b'、'a3b'。</p></blockquote> <p>测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a[123]b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'a0b a1b a2b a3b a4b'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;a1b&quot;, &quot;a2b&quot;, &quot;a3b&quot;]</span>
</code></pre></div><p>要掌握横向和纵向模糊匹配，基本能解决很大部分正则匹配问题。</p> <h3 id="字符组"><a href="#字符组" class="header-anchor">#</a> 字符组</h3> <p>需要强调的是，虽叫字符组（字符类），但只是其中一个字符。例如 <code>[abc]</code> ，表示匹配一个字符，它可以是 'a'、'b'、'c' 之一。</p> <h4 id="范围表示法"><a href="#范围表示法" class="header-anchor">#</a> 范围表示法</h4> <p>如果字符组里的字符特别多的话，怎么办？可以使用范围表示法。例如 <code>[123456abcdefGHIJKLM]</code> ，可以写成 <code>[1-6a-fG-M]</code> 。用连字符 <code>-</code> 来省略和简写。因为连字符有特殊用途，如果要匹配 'a'、'-'、'z' 这三者中任意一个字符，该怎么做呢？不能写成 <code>[a-z]</code> ，因为其表示小写字符中的任何一个字符。可以写成如下的方式：<code>[-az]</code> 或 <code>[az-]</code> 或 <code>[a\-z]</code> 。即要么放在开头，要么放在结尾，要么转义。总之不会让引擎认为是范围表示法就行了。</p> <p>测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[1-6a-fG-M]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'123456abcdefGHIJKLM'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; true</span>
</code></pre></div><h4 id="排除字符组"><a href="#排除字符组" class="header-anchor">#</a> 排除字符组</h4> <p>纵向模糊匹配，还有一种情形就是，某位字符可以是任何东西，但就不能是 &quot;a&quot;、&quot;b&quot;、&quot;c&quot; 。此时就是排除字符组（反义字符组）的概念。例如 <code>[^abc]</code> ，表示是一个除 &quot;a&quot;、&quot;b&quot;、&quot;c&quot; 之外的任意一个字符。字符组的第一位放 <code>^</code>（脱字符），表示求反的概念。</p> <p>测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^abc]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'222'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><h3 id="x-y"><a href="#x-y" class="header-anchor">#</a> x|y</h3> <p>匹配'x'或者'y', /green|red/匹配'green apple'中的'green'和'red apple'中的'red' ，和字符组的区别是纵向范围内不只是字符。可以是其它表达式。</p> <h3 id="常见的简写形式"><a href="#常见的简写形式" class="header-anchor">#</a> 常见的简写形式</h3> <p>有了字符组的概念后，一些常见的符号我们也就理解了。因为它们都是系统自带的简写形式。</p> <div class="custom-block tip"><p class="custom-block-title">系统自带的简写形式:</p> <ul><li><code>\d</code> 就是 <code>[0-9]</code> 。表示是一位数字。记忆方式：其英文是 digit（数字）。</li> <li><code>\D</code> 就是 <code>[^0-9]</code> 。表示除数字外的任意字符。</li> <li><code>\w</code> 就是 <code>[0-9a-zA-Z_]</code> 。表示数字、大小写字母和下划线。记忆方式：w 是 word 的简写，也称单词字符。</li> <li><code>\W</code> 是 <code>[^0-9a-zA-Z_]</code> 。非单词字符。</li> <li><code>\s</code> 是 <code>[ \t\v\n\r\f]</code> 。表示空白符，包括空格、<code>\t</code>水平制表符、<code>\v</code>垂直制表符、<code>\n</code>换行符、<code>\r</code>回车符、<code>\f</code>换页符。记忆方式： <code>s</code> 是 space character 的首字母。</li> <li><code>\S</code> 是 <code>[^ \t\v\n\r\f]</code> 。 非空白符。</li> <li>. 就是 <code>[^\n\r\u2028\u2029]</code> 。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。记忆方式：想想省略号。</li> <li>.. 中的每个点，都可以理解成占位符，表示任何类似的东西。</li></ul></div> <h3 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h3> <p>量词也称重复。掌握 <code>{m,n}</code> 的准确含义后，只需要记住一些简写形式。</p> <h4 id="简写形式"><a href="#简写形式" class="header-anchor">#</a> 简写形式</h4> <div class="custom-block tip"><p class="custom-block-title">简写形式</p> <ul><li><code>{m,}</code> 表示至少出现 <code>m</code> 次。</li> <li><code>{m}</code> 等价于 <code>{m,m}</code> ，表示出现 <code>m</code> 次。</li> <li><code>?</code> 等价于 <code>{0,1}</code> ，表示出现或者不出现。记忆方式：问号的意思表示，有吗？</li> <li><code>+</code> 等价于 <code>{1,}</code> ，表示出现至少一次。记忆方式：加号是追加的意思，得先有一个，然后才考虑追加。</li> <li><code>*</code> 等价于 <code>{0,}</code> ，表示出现任意次，有可能不出现。记忆方式：看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来。</li></ul></div> <p>测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  {m,} 表示至少出现m次。</span>
<span class="token keyword">var</span> regex1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ac{2,}r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
regex1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'accr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
regex1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'acr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; false</span>

<span class="token comment">//  {m} 等价于 {m,m}，表示出现 m 次</span>
<span class="token keyword">var</span> regex2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ac{3}r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
regex2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'acccr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
regex2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'accr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; false</span>

<span class="token comment">// ? 等价于{0,1}，表示出现或者不出现。记忆方式：问号的意思表示，有吗？</span>
<span class="token keyword">var</span> regex3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc?r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abcr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abbr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>

<span class="token comment">// + 等价于{1,}，表示出现至少一次。记忆方式：加号是追加的意思，得先有一个，然后才考虑追加。</span>
<span class="token keyword">var</span> regex4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ac+r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'acr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'accr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; false</span>

<span class="token comment">// * 等价于{0,}，表示出现任意次，有可能不出现。记忆方式：看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来。</span>
<span class="token keyword">var</span> regex5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc*r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex5<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abcr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex5<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abccr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex5<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex5<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  =&gt; false</span>
</code></pre></div><h4 id="贪婪匹配和惰性匹配"><a href="#贪婪匹配和惰性匹配" class="header-anchor">#</a> 贪婪匹配和惰性匹配</h4> <p>例子如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{2,5}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'123 1234 12345 123456'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;123&quot;, &quot;1234&quot;, &quot;12345&quot;, &quot;12345&quot;]</span>
</code></pre></div><p>其中正则 <code>/\d{2,5}/</code> ，表示数字连续出现 2 到 5 次。会匹配 2 位、3 位、4 位、5 位连续数字。但是其是贪婪的，它会尽可能多的匹配。你能给我 6 个，我就要 6 个。你能给我 3 个，我就要 3 个。反正只要在能力范围内，越多越好。而惰性匹配，就是尽可能少的匹配：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{2,5}?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'123 1234 12345 123456'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;12&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;56&quot;]</span>
</code></pre></div><p>其中 <code>/\d{2,5}?/</code> 表示，虽然 2 到 5 次都行，当 2 个就够的时候，就不在往下尝试了。通过在量词后面加个问号就能实现惰性匹配，因此所有惰性匹配情形如下：</p> <blockquote><p><code>{m,n}?</code> <code>{m,}?</code> <code>??</code> <code>+?</code> <code>*?</code></p></blockquote> <p>对惰性匹配的记忆方式是：量词后面加个问号，问一问你知足了吗，你很贪婪吗？</p> <h3 id="多选分支"><a href="#多选分支" class="header-anchor">#</a> 多选分支</h3> <p>一个模式可以实现横向和纵向模糊匹配。而多选分支可以支持多个子模式任选其一。具体形式如下：<code>(p1|p2|p3)</code> ，其中 p1、p2 和 p3 是子模式，用 <code>|</code>（管道符）分隔，表示其中任何之一。例如要匹配 &quot;good&quot; 和 &quot;nice&quot; 可以使用 <code>/good|nice/</code> 。测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">good|nice</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'good idea, nice try.'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;good&quot;, &quot;nice&quot;]</span>
</code></pre></div><p>但有个事实我们应该注意，比如我用 <code>/good|goodbye/</code> ，去匹配 &quot;goodbye&quot; 字符串时，结果是 &quot;good&quot;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">good|goodbye</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'goodbye'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;good&quot;]</span>
</code></pre></div><p>而把正则改成 <code>/goodbye|good/</code> ，结果是：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">goodbye|good</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'goodbye'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;goodbye&quot;]</span>
</code></pre></div><p>也就是说，分支结构也是惰性的，即当前面的匹配上了，后面的就不再尝试了。</p> <h3 id="案例分析"><a href="#案例分析" class="header-anchor">#</a> 案例分析</h3> <p>匹配字符，无非就是字符组、量词和分支结构的组合使用。下面找几个例子演练一下（其中，每个正则并不是只有唯一写法，可以有多种，就不一一列举了）：</p> <h4 id="匹配-16-进制颜色值"><a href="#匹配-16-进制颜色值" class="header-anchor">#</a> 匹配 16 进制颜色值</h4> <blockquote><p>要求匹配：<code>#ffbbad</code>、<code>#Fc01DF</code>、<code>#FFF</code>、<code>#ffE</code></p></blockquote> <p>分析：表示一个 16 进制字符，可以用字符组 <code>[0-9a-fA-F]</code> 。其中字符可以出现 3 或 6 次，需要是用量词和分支结构。使用分支结构时，需要注意顺序。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'#ffbbad #Fc01DF #FFF #ffE'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;#ffbbad&quot;, &quot;#Fc01DF&quot;, &quot;#FFF&quot;, &quot;#ffE&quot;]</span>
</code></pre></div><h4 id="匹配时间"><a href="#匹配时间" class="header-anchor">#</a> 匹配时间</h4> <blockquote><p>要求匹配：<code>23:59</code>、<code>02:07</code></p></blockquote> <p>分析：共 4 位数字，第一位数字可以为 <code>[0-2]</code> 。当第 1 位为 2 时，第 2 位可以为 <code>[0-3]</code> ，其他情况时，第 2 位为 <code>[0-9]</code> 。第 3 位数字为 <code>[0-5]</code> ，第 4 位为 <code>[0-9]</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([01][0-9]|[2][0-3]):[0-5][0-9]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'23:59'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'02:07'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p>如果也要求匹配 7:9，也就是说时分前面的 0 可以省略。此时正则变成：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'23:59'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'02:07'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'7:9'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; true</span>
<span class="token comment">// =&gt; true</span>
<span class="token comment">// =&gt; true</span>
</code></pre></div><h4 id="匹配日期"><a href="#匹配日期" class="header-anchor">#</a> 匹配日期</h4> <blockquote><p>比如 <code>yyyy-mm-dd</code> 格式为例。要求匹配：2017-06-10</p></blockquote> <p>分析：年，四位数字即可，可用 <code>[0-9]{4}</code> 。月，共 12 个月，分两种情况 01、02、……、09 和 10、11、12，可用 <code>(0[1-9]|1[0-2])</code> 。日，最大 31 天，可用 <code>(0[1-9]|[12][0-9]|3[01])</code> 。正则如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2017-06-10'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; true</span>
</code></pre></div><p>Tips： <code>/^[0-9]</code> 这个 <code>^</code> 表示：匹配以数字开始的字符串（从左向右匹配）。 <code>$/</code> 这个 <code>$</code> 表示：匹配以数字结尾的字符串（从后向前匹配）。如果 <code>^</code> 在 <code>[]</code> 中出现，那么就是非的意思了，不再是从开头匹配的意思。</p> <h2 id="正则表达式位置匹配攻略"><a href="#正则表达式位置匹配攻略" class="header-anchor">#</a> 正则表达式位置匹配攻略</h2> <p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。</p> <h3 id="什么是位置呢"><a href="#什么是位置呢" class="header-anchor">#</a> 什么是位置呢</h3> <p>位置是相邻字符之间的位置。</p> <h3 id="如何匹配位置呢"><a href="#如何匹配位置呢" class="header-anchor">#</a> 如何匹配位置呢</h3> <p>在 ES5 中，共有 6 个锚字符：</p> <blockquote><p><code>^</code> <code>$</code> <code>\b</code> <code>\B</code> <code>(?=p)</code> <code>(?!p)</code></p></blockquote> <h4 id="和"><a href="#和" class="header-anchor">#</a> ^ 和 $</h4> <ul><li><code>^</code>（脱字符）匹配开头，在多行匹配中匹配行开头。</li> <li><code>$</code>（美元符号）匹配结尾，在多行匹配中匹配行结尾。</li></ul> <p>比如我们把字符串的开头和结尾用&quot;#&quot;替换（位置可以替换成字符的！）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^|$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;#hello#&quot;</span>
</code></pre></div><p>多行匹配模式时，二者是行的概念，这个需要我们的注意：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'I\nlove\njavascript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^|$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
#I#
#love#
#javascript#
*/</span>
</code></pre></div><p>JavaScript 正则标志 <code>/g</code> , <code>/i</code> , <code>/m</code> 说明：</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><code>/g</code> 表示该表达式将用来在输入字符串中查找所有可能的匹配，返回的结果可以是多个。如果不加 <code>/g</code> 最多只会匹配一个;</li> <li><code>/i</code>  表示匹配的时候不区分大小写;</li> <li><code>/m</code> 表示多行匹配，什么是多行匹配呢？就是匹配换行符两端的潜在匹配。影响正则中的<code>^$</code> 符号。</li></ul></div> <h4 id="b-和-b"><a href="#b-和-b" class="header-anchor">#</a> \b 和 \B</h4> <p><code>\b</code> 是单词边界，具体就是 <code>\w</code> 和 <code>\W</code> 之间的位置，也包括 <code>\w</code> 和 <code>^</code> 之间的位置，也包括 <code>\w</code> 和 <code>$</code> 之间的位置。<span style="color:red;">注意不是 \W 和 ^ 之间的位置</span>。比如一个文件名是&quot;[JS] Lesson_01.mp4&quot;中的 <code>\b</code>，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'[JS] Lesson_01.mp4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;[#JS#] #Lesson_01#.#mp4#&quot;</span>
</code></pre></div><p>为什么匹配结果是这样呢？分析如下：首先，我们知道，<code>\w</code> 是字符组 <code>[0-9a-zA-Z_]</code> 的简写形式（单词字符），即 <code>\w</code> 是字母数字或者下划线的中任何一个字符。而 <code>\W</code> 是排除字符组 <code>[^0-9a-zA-Z_]</code> 的简写形式（非单词字符），即 <code>\W</code> 是 <code>\w</code> 以外的任何一个字符。此时我们可以看看&quot;[#JS#] #Lesson_01#.#mp4#&quot;中的每一个&quot;#&quot;，是怎么来的。</p> <blockquote><p>第一个&quot;#&quot;，两边是&quot;[&quot;与&quot;J&quot;，是 <code>\W</code> 和 <code>\w</code> 之间的位置。 第二个&quot;#&quot;，两边是&quot;S&quot;与&quot;]&quot;，也就是 <code>\w</code> 和 <code>\W</code> 之间的位置。 第三个&quot;#&quot;，两边是空格与&quot;L&quot;，也就是 <code>\W</code> 和 <code>\w</code> 之间的位置。 第四个&quot;#&quot;，两边是&quot;1&quot;与&quot;.&quot;，也就是 <code>\w</code> 和 <code>\W</code> 之间的位置。 第五个&quot;#&quot;，两边是&quot;.&quot;与&quot;m&quot;，也就是 <code>\W</code> 和 <code>\w</code> 之间的位置。 第六个&quot;#&quot;，其对应的位置是结尾，但其前面的字符&quot;4&quot;是 <code>\w</code> ，即 <code>\w</code> 和 <code>$</code> 之间的位置。</p></blockquote> <p>知道了 <code>\b</code> 的概念后，那么 <code>\B</code> 也就相对好理解了。 <code>\B</code> 就是 <code>\b</code> 的反面的意思，非单词边界。例如在字符串中所有位置中，扣掉 <code>\b</code> ，剩下的都是 <code>\B</code> 的。具体说来就是 <code>\w</code> 与 <code>\w</code> 、 <code>\W</code> 与 <code>\W</code> 、<code>^</code> 与 <code>\W</code> ，<code>\W</code> 与 <code>$</code> 之间的位置。比如上面的例子，把所有 <code>\B</code> 替换成 &quot;#&quot;：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'[JS] Lesson_01.mp4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\B</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;#[J#S]# L#e#s#s#o#n#_#0#1.m#p#4&quot;</span>
</code></pre></div><h4 id="x-y-向前断言和-x-y-向前否定断言"><a href="#x-y-向前断言和-x-y-向前否定断言" class="header-anchor">#</a> x(?=y) 向前断言和 x(?!y) 向前否定断言</h4> <p>x(?=y)，其中 y 是一个子模式，即 y 前面的位置。比如 (?=l)，表示'l'字符前面的位置，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=l)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;he#l#lo&quot;</span>
</code></pre></div><p>x(?=y)，理解成：要求接下来的字符与 y 匹配，但不能包括 y 的那些字符。而 x(?!y) 就是 x(?=y) 的反面意思，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!l)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;#h#ell#o#&quot;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><code>x(?=y)</code> 仅匹配被 y 跟随的 x。 例如，<code>/Jack(?=Sprat)/</code> 只有在 'Jack' 后面紧跟着 'Sprat' 时，才会匹配它。<code>/Jack(?=Sprat|Frost)/</code> 只有在 'Jack' 后面紧跟着 'Sprat' 或 'Frost' 时，才会匹配它。然而，'Sprat' 或 'Frost' 都不是匹配结果的一部分。</li> <li><code>x(?!y)</code> 仅匹配不被 y 跟随的 x。举个例子，<code>/\d+(?!\.)/</code> 只会匹配不被点（.）跟随的数字。<code>/\d+(?!\.)/.exec('3.141')</code> 匹配&quot;141&quot;，而不是&quot;3.141&quot;</li></ul></div> <p>ES6 中，还支持 (?&lt;=y)x 后行断言和 (?&lt;!y)x 反向否定查找。</p> <h4 id="y-x-向后断言和-y-向后否定断言"><a href="#y-x-向后断言和-y-向后否定断言" class="header-anchor">#</a> (?&lt;=y)x 向后断言和 (?&lt;!y) 向后否定断言</h4> <ul><li>(?&lt;=y)x 匹配'x'仅当'x'前面是'y'。例如，/(?&lt;=Jack)Sprat/会匹配到 'Sprat' 仅仅当它前面是 'Jack';</li> <li>(?&lt;!y) 仅仅当'x'前面不是'y'时匹配'x'。例如，仅仅当这个数字前面没有负号的时候，/(?&lt;!-)\d+/ 匹配一个数字。</li></ul> <p>相关断言（Assertions）学习资料可以看看这里：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions/Assertions" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="位置的特性"><a href="#位置的特性" class="header-anchor">#</a> 位置的特性</h3> <p>对于位置的理解，我们可以理解成空字符 &quot;&quot;。比如&quot;hello&quot;字符串等价于如下的形式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'hello'</span> <span class="token operator">===</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'h'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'e'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'l'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'l'</span> <span class="token operator">+</span> <span class="token string">'o'</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p>也等价于：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'hello'</span> <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p>因此，把 <code>/^hello$/</code> 写成 <code>/^^hello$$$/</code> ，是没有任何问题的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^^hello$$$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p>甚至可以写成更复杂的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=he)^^he(?=\w)llo$\b\b$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p>也就是说字符之间的位置，可以写成多个。把位置理解空字符，是对位置非常有效的理解方式。</p> <h3 id="相关案例"><a href="#相关案例" class="header-anchor">#</a> 相关案例</h3> <h4 id="数字的千位分隔符表示法"><a href="#数字的千位分隔符表示法" class="header-anchor">#</a> 数字的千位分隔符表示法</h4> <p>比如把&quot;12345678&quot;，变成&quot;12,345,678&quot;。可见是需要把相应的位置替换成&quot;,&quot;。思路是什么呢？</p> <h5 id="弄出最后一个逗号"><a href="#弄出最后一个逗号" class="header-anchor">#</a> 弄出最后一个逗号</h5> <p>使用 <code>(?=\d{3}$)</code> 就可以做到：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在字符最后3个数字前面加一个逗号</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'12345678'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=\d{3}$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;12345,678&quot;</span>
</code></pre></div><h5 id="弄出所有的逗号"><a href="#弄出所有的逗号" class="header-anchor">#</a> 弄出所有的逗号</h5> <p>因为逗号出现的位置，要求后面 3 个数字一组，也就是 <code>\d{3}</code> 至少出现一次。此时可以使用量词 +：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'12345678'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=(\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;12,345,678&quot;</span>
</code></pre></div><h5 id="匹配其余案例"><a href="#匹配其余案例" class="header-anchor">#</a> 匹配其余案例</h5> <p>写完正则后，多验证几个案例，此时我们会发现问题：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">'123456789'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=(\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;,123,456,789&quot;</span>
</code></pre></div><p>因为上面的正则，仅仅表示把从结尾向前数，一但是 3 的倍数，就把其前面的位置替换成逗号。因此才会出现这个问题。怎么解决呢？我们要求匹配到这个位置不能是开头。我们知道匹配开头可以使用 <code>^</code> ，但要求这个位置不是开头怎么办？ <code>(?!^)</code> 测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> string1 <span class="token operator">=</span> <span class="token string">'12345678'</span><span class="token punctuation">,</span>
  string2 <span class="token operator">=</span> <span class="token string">'123456789'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!^)(?=(\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token keyword">var</span> result <span class="token operator">=</span> string1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;12,345,678&quot;</span>

result <span class="token operator">=</span> string2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;123,456,789&quot;</span>
</code></pre></div><p>123456.3435 如果要匹配这种数据格式呢？就是保留小数并且千分位逗号分割</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 小数点前面的数字，每隔三个数加一个 ','</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'123456.3435'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!^)(?=(\d{3})+\.)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;123,456.3435&quot;</span>
</code></pre></div><p>Tips:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">222122122.6754</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!^)(?=(\d{3})+\.)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这行代码，可以实现四舍五入保留 2 位小数点，并且千分位逗号分割，这是项目中很常见的一个需求</p> <h2 id="test-exec-match-replace-用法介绍"><a href="#test-exec-match-replace-用法介绍" class="header-anchor">#</a> test, exec, match, replace 用法介绍</h2> <p>注：<code>pattern</code> 为 <code>RegExp</code> 的实例，<code>str</code> 为 <code>String</code> 的实例</p> <table><thead><tr><th style="text-align:left;">用法</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">返回值</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>pattern.test(str)</code></td> <td style="text-align:left;">判断 <code>str</code> 是否包含匹配结果</td> <td style="text-align:left;">包含返回 <code>true</code> ，不包含返回 <code>false</code></td></tr> <tr><td style="text-align:left;"><code>pattern.exec(str)</code></td> <td style="text-align:left;">根据 <code>pattern</code> 对 <code>str</code> 进行正则匹配</td> <td style="text-align:left;">返回匹配结果数组，如匹配不到返回 <code>null</code></td></tr> <tr><td style="text-align:left;"><code>str.match(pattern)</code></td> <td style="text-align:left;">根据 <code>pattern</code> 对 <code>str</code> 进行正则匹配</td> <td style="text-align:left;">返回匹配结果数组，如匹配不到返回 <code>null</code></td></tr> <tr><td style="text-align:left;"><code>str.replace(pattern, replacement)</code></td> <td style="text-align:left;">根据 <code>pattern</code> 进行正则匹配，把匹配结果替换为 <code>replacement</code></td> <td style="text-align:left;">返回一个新的字符串</td></tr> <tr><td style="text-align:left;"><code>str.search(pattern)</code></td> <td style="text-align:left;">根据 <code>pattern</code> 对 <code>str</code> 进行正则匹配</td> <td style="text-align:left;">返回匹配到的位置索引，如匹配不到返回 <code>-1</code></td></tr> <tr><td style="text-align:left;"><code>str.split(pattern)</code></td> <td style="text-align:left;"><code>pattern</code> 可以是一个字符串或正则表达式，使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的 <code>String</code> 方法</td> <td style="text-align:left;">返回源字符串以分隔符出现位置分隔而成的一个 <code>Array</code></td></tr></tbody></table> <blockquote><p>Tips：当字符串为空时，<code>split()</code> 返回一个包含一个空字符串的数组，而不是一个空数组，如果字符串和分隔符都是空字符串，则返回一个空数组。</p></blockquote> <p>如果空字符串 <code>('')</code> 被用作分隔符，则字符串会在每个字符之间分割。</p> <p>资料：</p> <ul><li><a href="https://segmentfault.com/a/1190000003497780" target="_blank" rel="noopener noreferrer">正则用法更多详情<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">正则表达式中的特殊字符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/docs1/对象静态方法总结分享.html" class="prev">
        Object 静态方法总结
      </a></span> <span class="next"><a href="/notes/docs1/regexp2.html">
        正则表达式中的括号
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.7e1effa2.js" defer></script><script src="/assets/js/38.9c1eeb6e.js" defer></script><script src="/assets/js/3.dea4e8e5.js" defer></script><script src="/assets/js/170.dbe223bc.js" defer></script>
  </body>
</html>
