<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript(2) | æœèŠ±å¤•æ‹¾</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="æœèŠ±å¤•æ‹¾æŠ€æœ¯ç©ºé—´">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, minimum-scale=1">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.3b8ca7f7.css" as="style"><link rel="preload" href="/assets/js/app.d4c7d2ae.js" as="script"><link rel="preload" href="/assets/js/38.4e55b6b9.js" as="script"><link rel="preload" href="/assets/js/3.07504c13.js" as="script"><link rel="preload" href="/assets/js/172.28e177a3.js" as="script"><link rel="prefetch" href="/assets/js/10.3a39badf.js"><link rel="prefetch" href="/assets/js/100.48aafe05.js"><link rel="prefetch" href="/assets/js/101.e0fc15c2.js"><link rel="prefetch" href="/assets/js/102.85a69de9.js"><link rel="prefetch" href="/assets/js/103.1e776270.js"><link rel="prefetch" href="/assets/js/104.625a8569.js"><link rel="prefetch" href="/assets/js/105.f51794ab.js"><link rel="prefetch" href="/assets/js/106.e7d380e3.js"><link rel="prefetch" href="/assets/js/107.1126749e.js"><link rel="prefetch" href="/assets/js/108.8cedf2f1.js"><link rel="prefetch" href="/assets/js/109.7a8f3daf.js"><link rel="prefetch" href="/assets/js/11.bdb15794.js"><link rel="prefetch" href="/assets/js/110.eccefd44.js"><link rel="prefetch" href="/assets/js/111.0405b080.js"><link rel="prefetch" href="/assets/js/112.2039d057.js"><link rel="prefetch" href="/assets/js/113.906f916d.js"><link rel="prefetch" href="/assets/js/114.a7d3b6e7.js"><link rel="prefetch" href="/assets/js/115.8f396c5b.js"><link rel="prefetch" href="/assets/js/116.4d9275cc.js"><link rel="prefetch" href="/assets/js/117.cd24ba09.js"><link rel="prefetch" href="/assets/js/118.135fbb30.js"><link rel="prefetch" href="/assets/js/119.2066ba95.js"><link rel="prefetch" href="/assets/js/12.c002587a.js"><link rel="prefetch" href="/assets/js/120.fe9e769f.js"><link rel="prefetch" href="/assets/js/121.7acb351e.js"><link rel="prefetch" href="/assets/js/122.3c855b1e.js"><link rel="prefetch" href="/assets/js/123.83b4a523.js"><link rel="prefetch" href="/assets/js/124.59ab0f66.js"><link rel="prefetch" href="/assets/js/125.ff789715.js"><link rel="prefetch" href="/assets/js/126.772e8e9d.js"><link rel="prefetch" href="/assets/js/127.5b20234c.js"><link rel="prefetch" href="/assets/js/128.b2ae0d98.js"><link rel="prefetch" href="/assets/js/129.ebadeac4.js"><link rel="prefetch" href="/assets/js/13.82bf2391.js"><link rel="prefetch" href="/assets/js/130.64e18ec7.js"><link rel="prefetch" href="/assets/js/131.51dea3ed.js"><link rel="prefetch" href="/assets/js/132.4070462d.js"><link rel="prefetch" href="/assets/js/133.faa85325.js"><link rel="prefetch" href="/assets/js/134.bf2bb878.js"><link rel="prefetch" href="/assets/js/135.b11865ba.js"><link rel="prefetch" href="/assets/js/136.22841592.js"><link rel="prefetch" href="/assets/js/137.a8157b05.js"><link rel="prefetch" href="/assets/js/138.b6a424e9.js"><link rel="prefetch" href="/assets/js/139.0ffc8997.js"><link rel="prefetch" href="/assets/js/14.df08e919.js"><link rel="prefetch" href="/assets/js/140.f1f4b890.js"><link rel="prefetch" href="/assets/js/141.e8dcd9bd.js"><link rel="prefetch" href="/assets/js/142.ec6f607d.js"><link rel="prefetch" href="/assets/js/143.bbfe3e92.js"><link rel="prefetch" href="/assets/js/144.decabfa5.js"><link rel="prefetch" href="/assets/js/145.0377ba5d.js"><link rel="prefetch" href="/assets/js/146.9b5a3356.js"><link rel="prefetch" href="/assets/js/147.dfad2e06.js"><link rel="prefetch" href="/assets/js/148.30d814f2.js"><link rel="prefetch" href="/assets/js/149.ddcbe2e2.js"><link rel="prefetch" href="/assets/js/15.4e1e4aa3.js"><link rel="prefetch" href="/assets/js/150.79f71930.js"><link rel="prefetch" href="/assets/js/151.6b5d50a8.js"><link rel="prefetch" href="/assets/js/152.03e87c7d.js"><link rel="prefetch" href="/assets/js/153.a424a600.js"><link rel="prefetch" href="/assets/js/154.f89b4c9a.js"><link rel="prefetch" href="/assets/js/155.95693c4c.js"><link rel="prefetch" href="/assets/js/156.865bd9fb.js"><link rel="prefetch" href="/assets/js/157.df414a99.js"><link rel="prefetch" href="/assets/js/158.58618aa7.js"><link rel="prefetch" href="/assets/js/159.5152c678.js"><link rel="prefetch" href="/assets/js/16.b9021729.js"><link rel="prefetch" href="/assets/js/160.58cf5903.js"><link rel="prefetch" href="/assets/js/161.24f6d90d.js"><link rel="prefetch" href="/assets/js/162.f83328a4.js"><link rel="prefetch" href="/assets/js/163.27349657.js"><link rel="prefetch" href="/assets/js/164.43e499e3.js"><link rel="prefetch" href="/assets/js/165.1a47e6d4.js"><link rel="prefetch" href="/assets/js/166.73064cb4.js"><link rel="prefetch" href="/assets/js/167.90ce4ba7.js"><link rel="prefetch" href="/assets/js/168.99d412e0.js"><link rel="prefetch" href="/assets/js/169.0fcd7dd5.js"><link rel="prefetch" href="/assets/js/17.49794a56.js"><link rel="prefetch" href="/assets/js/170.451030dd.js"><link rel="prefetch" href="/assets/js/171.6926b9e6.js"><link rel="prefetch" href="/assets/js/173.c2d20eb8.js"><link rel="prefetch" href="/assets/js/174.6ee7ab2b.js"><link rel="prefetch" href="/assets/js/175.65438c7d.js"><link rel="prefetch" href="/assets/js/176.f41a414f.js"><link rel="prefetch" href="/assets/js/177.3a6973a8.js"><link rel="prefetch" href="/assets/js/178.e8a1484d.js"><link rel="prefetch" href="/assets/js/179.161edffa.js"><link rel="prefetch" href="/assets/js/18.92ac679b.js"><link rel="prefetch" href="/assets/js/180.f3f1660b.js"><link rel="prefetch" href="/assets/js/181.9663605a.js"><link rel="prefetch" href="/assets/js/182.fe643e84.js"><link rel="prefetch" href="/assets/js/183.b9d6f7e6.js"><link rel="prefetch" href="/assets/js/184.9f6a3e84.js"><link rel="prefetch" href="/assets/js/185.10c596fe.js"><link rel="prefetch" href="/assets/js/186.ca2f57f8.js"><link rel="prefetch" href="/assets/js/187.3589a1d2.js"><link rel="prefetch" href="/assets/js/188.2cb7b220.js"><link rel="prefetch" href="/assets/js/189.73559e08.js"><link rel="prefetch" href="/assets/js/19.44e9522e.js"><link rel="prefetch" href="/assets/js/190.75e98315.js"><link rel="prefetch" href="/assets/js/191.9c395bcc.js"><link rel="prefetch" href="/assets/js/192.5f969625.js"><link rel="prefetch" href="/assets/js/193.e4b78bb2.js"><link rel="prefetch" href="/assets/js/194.052c36e9.js"><link rel="prefetch" href="/assets/js/195.467d172b.js"><link rel="prefetch" href="/assets/js/196.f518d9a1.js"><link rel="prefetch" href="/assets/js/20.4ee33976.js"><link rel="prefetch" href="/assets/js/21.cb9d3730.js"><link rel="prefetch" href="/assets/js/22.8daafea4.js"><link rel="prefetch" href="/assets/js/23.63c46d5e.js"><link rel="prefetch" href="/assets/js/24.be4a738e.js"><link rel="prefetch" href="/assets/js/25.b18c7ba3.js"><link rel="prefetch" href="/assets/js/26.84810b8c.js"><link rel="prefetch" href="/assets/js/27.463ce61d.js"><link rel="prefetch" href="/assets/js/28.e68a091f.js"><link rel="prefetch" href="/assets/js/29.05fd7a11.js"><link rel="prefetch" href="/assets/js/30.a9c3aa15.js"><link rel="prefetch" href="/assets/js/31.2a53461c.js"><link rel="prefetch" href="/assets/js/32.140635e6.js"><link rel="prefetch" href="/assets/js/33.4fe873b7.js"><link rel="prefetch" href="/assets/js/34.fb7f3932.js"><link rel="prefetch" href="/assets/js/35.e1b54db8.js"><link rel="prefetch" href="/assets/js/36.ab52b4ed.js"><link rel="prefetch" href="/assets/js/37.29d1cf3f.js"><link rel="prefetch" href="/assets/js/39.e1a2e10e.js"><link rel="prefetch" href="/assets/js/4.645dc04a.js"><link rel="prefetch" href="/assets/js/40.290647ce.js"><link rel="prefetch" href="/assets/js/41.30cbaee3.js"><link rel="prefetch" href="/assets/js/42.a79bf63e.js"><link rel="prefetch" href="/assets/js/43.73b29637.js"><link rel="prefetch" href="/assets/js/44.a891ce66.js"><link rel="prefetch" href="/assets/js/45.c5608318.js"><link rel="prefetch" href="/assets/js/46.b4b69c98.js"><link rel="prefetch" href="/assets/js/47.d8c6820a.js"><link rel="prefetch" href="/assets/js/48.bff126d3.js"><link rel="prefetch" href="/assets/js/49.f82378ce.js"><link rel="prefetch" href="/assets/js/5.14259fc6.js"><link rel="prefetch" href="/assets/js/50.6275049c.js"><link rel="prefetch" href="/assets/js/51.39988a36.js"><link rel="prefetch" href="/assets/js/52.1f874577.js"><link rel="prefetch" href="/assets/js/53.d10c3889.js"><link rel="prefetch" href="/assets/js/54.2dcb94b8.js"><link rel="prefetch" href="/assets/js/55.f96185d5.js"><link rel="prefetch" href="/assets/js/56.dd4d4b8f.js"><link rel="prefetch" href="/assets/js/57.f994c6a9.js"><link rel="prefetch" href="/assets/js/58.a93c10c7.js"><link rel="prefetch" href="/assets/js/59.554b01ad.js"><link rel="prefetch" href="/assets/js/6.ee77adb3.js"><link rel="prefetch" href="/assets/js/60.0d43a6e5.js"><link rel="prefetch" href="/assets/js/61.56793618.js"><link rel="prefetch" href="/assets/js/62.fd64b076.js"><link rel="prefetch" href="/assets/js/63.1ccd6c22.js"><link rel="prefetch" href="/assets/js/64.def3f5d8.js"><link rel="prefetch" href="/assets/js/65.24c2f619.js"><link rel="prefetch" href="/assets/js/66.5d80cd8c.js"><link rel="prefetch" href="/assets/js/67.7bb4e1bb.js"><link rel="prefetch" href="/assets/js/68.ac309c5e.js"><link rel="prefetch" href="/assets/js/69.e6f5bc15.js"><link rel="prefetch" href="/assets/js/7.0b275963.js"><link rel="prefetch" href="/assets/js/70.af51a9ef.js"><link rel="prefetch" href="/assets/js/71.6f634adf.js"><link rel="prefetch" href="/assets/js/72.48151142.js"><link rel="prefetch" href="/assets/js/73.f3cdaba1.js"><link rel="prefetch" href="/assets/js/74.d20fac7f.js"><link rel="prefetch" href="/assets/js/75.fbeb1946.js"><link rel="prefetch" href="/assets/js/76.0af132c4.js"><link rel="prefetch" href="/assets/js/77.353be78d.js"><link rel="prefetch" href="/assets/js/78.3adf5d07.js"><link rel="prefetch" href="/assets/js/79.06dada55.js"><link rel="prefetch" href="/assets/js/8.334b8757.js"><link rel="prefetch" href="/assets/js/80.71bff3b8.js"><link rel="prefetch" href="/assets/js/81.71f38dc0.js"><link rel="prefetch" href="/assets/js/82.dc9bec29.js"><link rel="prefetch" href="/assets/js/83.a78c4499.js"><link rel="prefetch" href="/assets/js/84.bacc2a6b.js"><link rel="prefetch" href="/assets/js/85.ef283f1a.js"><link rel="prefetch" href="/assets/js/86.c83365e4.js"><link rel="prefetch" href="/assets/js/87.c38a0a0f.js"><link rel="prefetch" href="/assets/js/88.41132597.js"><link rel="prefetch" href="/assets/js/89.2d240c4c.js"><link rel="prefetch" href="/assets/js/9.06831d79.js"><link rel="prefetch" href="/assets/js/90.862a5e8a.js"><link rel="prefetch" href="/assets/js/91.df00fdc6.js"><link rel="prefetch" href="/assets/js/92.25672b61.js"><link rel="prefetch" href="/assets/js/93.d437a43a.js"><link rel="prefetch" href="/assets/js/94.1a357bb5.js"><link rel="prefetch" href="/assets/js/95.8923ab50.js"><link rel="prefetch" href="/assets/js/96.2b809c98.js"><link rel="prefetch" href="/assets/js/97.6d86fe3f.js"><link rel="prefetch" href="/assets/js/98.a4ee7efe.js"><link rel="prefetch" href="/assets/js/99.ea0ea429.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.4cf1a21d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3b8ca7f7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">æœèŠ±å¤•æ‹¾</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  å‰ç«¯åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  æŠ€æœ¯æ–¹æ¡ˆ
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  æ•°æ®ç»“æ„ä¸ç®—æ³•
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  å‰ç«¯åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  æŠ€æœ¯æ–¹æ¡ˆ
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  æ•°æ®ç»“æ„ä¸ç®—æ³•
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>åŸºç¡€è¯­æ³•ï¼š</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs1/å¯¹è±¡é™æ€æ–¹æ³•æ€»ç»“åˆ†äº«.html" class="sidebar-link">Object é™æ€æ–¹æ³•æ€»ç»“</a></li><li><a href="/notes/docs1/regexp1.html" class="sidebar-link">JavaScript æ­£åˆ™è¡¨è¾¾å¼</a></li><li><a href="/notes/docs1/regexp2.html" class="sidebar-link">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ‹¬å·</a></li><li><a href="/notes/docs1/TS1.html" class="sidebar-link">TypeScript(1)</a></li><li><a href="/notes/docs1/TS2.html" aria-current="page" class="active sidebar-link">TypeScript(2)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#ç±»å‹æ¨è®º" class="sidebar-link">ç±»å‹æ¨è®º</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#ç±»å‹å…¼å®¹æ€§" class="sidebar-link">ç±»å‹å…¼å®¹æ€§</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#åä¹‰åŒ–ç±»å‹" class="sidebar-link">åä¹‰åŒ–ç±»å‹</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#âœ¨-é«˜çº§ç±»å‹" class="sidebar-link">âœ¨ é«˜çº§ç±»å‹</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#lib-d-ts" class="sidebar-link">lib.d.ts</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#æµåŠ¨çš„ç±»å‹" class="sidebar-link">æµåŠ¨çš„ç±»å‹</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#å‘½åç©ºé—´" class="sidebar-link">å‘½åç©ºé—´</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#âœ¨-ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹" class="sidebar-link">âœ¨ ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹</a></li><li class="sidebar-sub-header"><a href="/notes/docs1/TS2.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ–‡æ¡£(ä¸€)ï¼š</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs1/æ€§èƒ½ä¼˜åŒ–.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/notes/docs1/router.html" class="sidebar-link">å‰ç«¯è·¯ç”±</a></li><li><a href="/notes/docs1/Vueè™šæ‹ŸDOMå’Œæ¸²æŸ“æµç¨‹.html" class="sidebar-link">Vue è™šæ‹Ÿ DOM åŠæ¸²æŸ“æµç¨‹</a></li><li><a href="/notes/docs1/ç¼–è¯‘å‹è¯­è¨€å’Œè§£é‡Šå‹è¯­è¨€.html" class="sidebar-link">ç¼–è¯‘å‹è¯­è¨€å’Œè§£é‡Šå‹è¯­è¨€</a></li><li><a href="/notes/docs1/æ‰‹æœºç«¯å¼€å‘é—®é¢˜æ±‡æ€».html" class="sidebar-link">æ‰‹æœºç«¯å¼€å‘é—®é¢˜æ±‡æ€»</a></li><li><a href="/notes/docs1/å‰ç«¯é¢è¯•.html" class="sidebar-link">å‰ç«¯å¸¸è€ƒé¢è¯•é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ–‡æ¡£(äºŒ)ï¼š</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs2/æ•°å­—.html" class="sidebar-link">å‰ç«¯æ•°å­—</a></li><li><a href="/notes/docs2/å­—ç¬¦ä¸²æ–¹æ³•.html" class="sidebar-link">String</a></li><li><a href="/notes/docs2/math.html" class="sidebar-link">math</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ–‡æ¡£(ä¸‰)ï¼š</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/docs4/å¯†ç å­¦.html" class="sidebar-link">å“å…‹å¯†ç å­¦ 30 è®²</a></li><li><a href="/notes/docs4/vuepress.html" class="sidebar-link">vuepress é…ç½®</a></li><li><a href="/notes/docs4/vsCode.html" class="sidebar-link">VS Code å¿«æ·é”®</a></li><li><a href="/notes/docs4/Javaè‹±è¯­.html" class="sidebar-link">Java è‹±è¯­</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-2"><a href="#typescript-2" class="header-anchor">#</a> TypeScript(2)</h1> <p></p><div class="table-of-contents"><ul><li><a href="#ç±»å‹æ¨è®º">ç±»å‹æ¨è®º</a><ul><li><a href="#ä¸Šä¸‹æ–‡ç±»å‹">ä¸Šä¸‹æ–‡ç±»å‹</a></li><li><a href="#noimplicitany">noImplicitAny</a></li></ul></li><li><a href="#ç±»å‹å…¼å®¹æ€§">ç±»å‹å…¼å®¹æ€§</a><ul><li><a href="#åå˜-covariant-é€†å˜-contravariant-åŒå‘åå˜-bivariant">åå˜ï¼ˆCovariantï¼‰ï¼Œé€†å˜ï¼ˆContravariantï¼‰ï¼ŒåŒå‘åå˜ï¼ˆBivariantï¼‰</a></li><li><a href="#å¯¹è±¡å…¼å®¹æ€§-åå˜-covariant">å¯¹è±¡å…¼å®¹æ€§ åå˜ï¼ˆCovariantï¼‰</a></li><li><a href="#âœ¨-å‡½æ•°å…¼å®¹æ€§">âœ¨ å‡½æ•°å…¼å®¹æ€§</a></li><li><a href="#æšä¸¾å…¼å®¹æ€§">æšä¸¾å…¼å®¹æ€§</a></li><li><a href="#ç±»å…¼å®¹æ€§">ç±»å…¼å®¹æ€§</a></li><li><a href="#æ³›å‹å…¼å®¹æ€§">æ³›å‹å…¼å®¹æ€§</a></li><li><a href="#å…¼å®¹æ€§æ€»ç»“">å…¼å®¹æ€§æ€»ç»“</a></li></ul></li><li><a href="#åä¹‰åŒ–ç±»å‹">åä¹‰åŒ–ç±»å‹</a><ul><li><a href="#ä½¿ç”¨å­—é¢é‡ç±»å‹">ä½¿ç”¨å­—é¢é‡ç±»å‹</a></li><li><a href="#ä½¿ç”¨æšä¸¾">ä½¿ç”¨æšä¸¾</a></li><li><a href="#ä½¿ç”¨æ¥å£">ä½¿ç”¨æ¥å£</a></li></ul></li><li><a href="#âœ¨-é«˜çº§ç±»å‹">âœ¨ é«˜çº§ç±»å‹</a><ul><li><a href="#äº¤å‰ç±»å‹">äº¤å‰ç±»å‹</a></li><li><a href="#è”åˆç±»å‹">è”åˆç±»å‹</a></li><li><a href="#ç±»å‹ä¿æŠ¤">ç±»å‹ä¿æŠ¤</a></li><li><a href="#null-ç±»å‹">null ç±»å‹</a></li><li><a href="#âœ¨-ç±»å‹åˆ«å">âœ¨ ç±»å‹åˆ«å</a></li><li><a href="#å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹">å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹</a></li><li><a href="#æ•°å­—å­—é¢é‡ç±»å‹">æ•°å­—å­—é¢é‡ç±»å‹</a></li><li><a href="#ç´¢å¼•ç±»å‹">ç´¢å¼•ç±»å‹</a></li><li><a href="#æ˜ å°„ç±»å‹">æ˜ å°„ç±»å‹</a></li><li><a href="#å†…ç½®æ˜ å°„ç±»å‹">å†…ç½®æ˜ å°„ç±»å‹</a></li></ul></li><li><a href="#lib-d-ts">lib.d.ts</a><ul><li><a href="#ä¿®æ”¹åŸå§‹ç±»å‹">ä¿®æ”¹åŸå§‹ç±»å‹</a></li></ul></li><li><a href="#æµåŠ¨çš„ç±»å‹">æµåŠ¨çš„ç±»å‹</a><ul><li><a href="#å¤åˆ¶ç±»å‹">å¤åˆ¶ç±»å‹</a></li><li><a href="#è·å–å˜é‡çš„ç±»å‹">è·å–å˜é‡çš„ç±»å‹</a></li><li><a href="#è·å–ç±»-å®ä¾‹-æˆå‘˜çš„ç±»å‹">è·å–ç±»ï¼ˆå®ä¾‹ï¼‰æˆå‘˜çš„ç±»å‹</a></li><li><a href="#è·å–å­—é¢é‡ç±»å‹">è·å–å­—é¢é‡ç±»å‹</a></li></ul></li><li><a href="#å‘½åç©ºé—´">å‘½åç©ºé—´</a><ul><li><a href="#å‘½åç©ºé—´åˆ«å">å‘½åç©ºé—´åˆ«å</a></li><li><a href="#ä½¿ç”¨å…¶ä»–-javascript-åº“">ä½¿ç”¨å…¶ä»– javascript åº“</a></li></ul></li><li><a href="#âœ¨-ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹">âœ¨ ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹</a><ul><li><a href="#åªè¯»æ•°ç»„çš„æ–°è¯­æ³•">åªè¯»æ•°ç»„çš„æ–°è¯­æ³•</a></li><li><a href="#const-ç±»å‹æ–­è¨€">const ç±»å‹æ–­è¨€</a></li><li><a href="#unknown-ç±»å‹">unknown ç±»å‹</a></li><li><a href="#âœ¨âœ¨âœ¨infer">âœ¨âœ¨âœ¨infer</a></li><li><a href="#type-omit">type Omit</a></li></ul></li><li><a href="#å‚è€ƒ">å‚è€ƒ</a></li></ul></div><p></p> <h2 id="ç±»å‹æ¨è®º"><a href="#ç±»å‹æ¨è®º" class="header-anchor">#</a> ç±»å‹æ¨è®º</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// xè¢«è‡ªåŠ¨æ¨æ–­ä¸ºnumber</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">// zooè¢«è‡ªåŠ¨æ¨æ–­ä¸º(Rhino | Elephant | Snake)[]ç±»å‹</span>
<span class="token comment">// å¦‚æœRhinoï¼ŒElephantï¼ŒSnakeæœ‰åŒä¸€ç§è¶…ç±»å‹Animalï¼Œzooä¼šè¢«æ¨æ–­ä¸ºAnimal[]ç±»å‹</span>
<span class="token keyword">let</span> zoo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Rhino</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Elephant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Snake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="ä¸Šä¸‹æ–‡ç±»å‹"><a href="#ä¸Šä¸‹æ–‡ç±»å‹" class="header-anchor">#</a> ä¸Šä¸‹æ–‡ç±»å‹</h3> <p>typescript ä¼šæ ¹æ® window.onmousedown çš„ç±»å‹ï¼Œæ¨æ–­å‡ºå³ä¾§çš„å‡½æ•°çš„ç±»å‹ã€‚</p> <p>ğŸ‘»ï¼šè¿™ä¸€éƒ¨åˆ†å†…å®¹åœ¨<a href="https://www.tslang.cn/" target="_blank" rel="noopener noreferrer">typescript ä¸­æ–‡ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­è¡¨ç°æ˜¯ä¸ä¸€è‡´çš„ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// typescriptå¯ä»¥æ¨æ–­å‡ºmouseEventä¸ºMouseEventç±»å‹</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ok</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
  <span class="token comment">// error</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">.</span>kangaroo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>uiEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// errorï¼ŒuiEventä¼šè‡ªåŠ¨æ¨æ–­å‡ºä¸ºUIEventç±»å‹ï¼ŒUIEventç±»å‹ä¸åŒ…å«buttonå±æ€§</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uiEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="noimplicitany"><a href="#noimplicitany" class="header-anchor">#</a> noImplicitAny</h3> <p>å¼€å¯ç¼–è¯‘é€‰é¡¹<code>noImplicitAny</code>ï¼Œå½“ç±»å‹æ¨æ–­åªèƒ½æ¨æ–­ä¸º<code>any</code>ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Š</p> <h2 id="ç±»å‹å…¼å®¹æ€§"><a href="#ç±»å‹å…¼å®¹æ€§" class="header-anchor">#</a> ç±»å‹å…¼å®¹æ€§</h2> <p>typescript çš„ç±»å‹å…¼å®¹æ˜¯åŸºäº<strong>ç»“æ„</strong>çš„ï¼Œä¸æ˜¯åŸºäºåä¹‰çš„ã€‚ä¸‹é¢çš„ä»£ç åœ¨ ts ä¸­æ˜¯å®Œå…¨å¯ä»¥çš„ï¼Œä½†åœ¨ java ç­‰åŸºäºåä¹‰çš„è¯­è¨€åˆ™ä¼šæŠ›é”™ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Named</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p<span class="token operator">:</span> Named
<span class="token comment">// ok</span>
p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å¯ä»¥ç›´æ¥ä½¿ç”¨constæ–­è¨€(constæ–­è¨€çš„ä»‹ç»ï¼Œåœ¨åé¢)</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token string">'python'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
c <span class="token operator">=</span> <span class="token string">'Swift'</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="åå˜-covariant-é€†å˜-contravariant-åŒå‘åå˜-bivariant"><a href="#åå˜-covariant-é€†å˜-contravariant-åŒå‘åå˜-bivariant" class="header-anchor">#</a> åå˜ï¼ˆCovariantï¼‰ï¼Œé€†å˜ï¼ˆContravariantï¼‰ï¼ŒåŒå‘åå˜ï¼ˆBivariantï¼‰</h3> <ul><li>åå˜ï¼ˆCovariantï¼‰çˆ¶ç±» = å­ç±» ğŸ‘Œï¼›å­ç±» = çˆ¶ç±» ğŸ™…</li> <li>é€†å˜ï¼ˆContravariantï¼‰çˆ¶ç±» = å­ç±» ğŸ™…ï¼›å­ç±» = çˆ¶ç±» ğŸ‘Œ</li> <li>åŒå‘åå˜ï¼ˆBivariantï¼‰çˆ¶ç±» = å­ç±» ğŸ‘Œï¼›å­ç±» = çˆ¶ç±» ğŸ‘Œ</li></ul> <h3 id="å¯¹è±¡å…¼å®¹æ€§-åå˜-covariant"><a href="#å¯¹è±¡å…¼å®¹æ€§-åå˜-covariant" class="header-anchor">#</a> å¯¹è±¡å…¼å®¹æ€§ åå˜ï¼ˆCovariantï¼‰</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> x<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token keyword">let</span> y<span class="token operator">!</span><span class="token operator">:</span> Bar

x <span class="token operator">=</span> y <span class="token comment">// ok</span>
y <span class="token operator">=</span> x <span class="token comment">// error</span>
</code></pre></div><h3 id="âœ¨-å‡½æ•°å…¼å®¹æ€§"><a href="#âœ¨-å‡½æ•°å…¼å®¹æ€§" class="header-anchor">#</a> âœ¨ å‡½æ•°å…¼å®¹æ€§</h3> <h4 id="å‡½æ•°å‚æ•°ç±»å‹å…¼å®¹æ€§-åŒå‘åå˜-bivariant-é€†å˜-contravariant"><a href="#å‡½æ•°å‚æ•°ç±»å‹å…¼å®¹æ€§-åŒå‘åå˜-bivariant-é€†å˜-contravariant" class="header-anchor">#</a> å‡½æ•°å‚æ•°ç±»å‹å…¼å®¹æ€§ åŒå‘åå˜ï¼ˆBivariantï¼‰é€†å˜ï¼ˆContravariantï¼‰</h4> <p>å‡½æ•°å‚æ•°çš„å…¼å®¹æ€§ï¼Œå…·æœ‰åŒå‘åå˜æ€§</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// åŠ¨ç‰©</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// çŒ«</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç¾å›½çŸ­å°¾çŒ«</span>
<span class="token keyword">interface</span> <span class="token class-name">USAShorthair</span> <span class="token keyword">extends</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// okï¼Œæ˜¯å®‰å…¨çš„</span>
<span class="token keyword">const</span> handle1<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// okï¼Œä¸å®‰å…¨ï¼Œä½†æ˜¯è¢«å…è®¸</span>
<span class="token comment">// å› ä¸ºtype handleçš„å‚æ•°æ˜¯Catç±»å‹ï¼Œè¡¨æ˜æ˜¯å¯ä»¥å…è®¸æ¥å—å…¶ä»–ï¼ŒCatçš„å­ç±»å‹çš„</span>
<span class="token comment">// å¦‚æœitæ˜¯USAShorthairç±»å‹ï¼Œåˆ™ä¼šæ‹’ç»å…¶ä»–Catçš„å­ç±»ï¼Œæ‰€ä»¥æ˜¯ä¸å®‰å…¨çš„</span>
<span class="token keyword">const</span> handle2<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> USAShorthair<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h5 id="ç¦ç”¨å‡½æ•°å‚æ•°åŒå‘åå˜æ€§-é€†å˜-contravariant"><a href="#ç¦ç”¨å‡½æ•°å‚æ•°åŒå‘åå˜æ€§-é€†å˜-contravariant" class="header-anchor">#</a> ç¦ç”¨å‡½æ•°å‚æ•°åŒå‘åå˜æ€§ é€†å˜ï¼ˆContravariantï¼‰</h5> <p>å¼€å¯äº†<code>strictFunctionTypes</code>ç¼–è¯‘é€‰é¡¹ï¼Œä¼šç¦ç”¨å‡½æ•°å‚æ•°çš„åŒå‘åå˜ã€‚å‚æ•°ç±»å‹æ˜¯é€†å˜çš„</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token comment">// ok</span>
<span class="token keyword">const</span> handle1<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// error</span>
<span class="token keyword">const</span> handle2<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> USAShorthair<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="å‡½æ•°è¿”å›å€¼ç±»å‹å…¼å®¹æ€§-åå˜-covariant"><a href="#å‡½æ•°è¿”å›å€¼ç±»å‹å…¼å®¹æ€§-åå˜-covariant" class="header-anchor">#</a> å‡½æ•°è¿”å›å€¼ç±»å‹å…¼å®¹æ€§ åå˜ï¼ˆCovariantï¼‰</h4> <p>å¦‚æœå‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¼å®¹æ€§åŒå¯¹è±¡ä¸€æ ·</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// Baræ˜¯Fooçš„å­ç±»ï¼Œè¿”å›å€¼ç±»å‹å…¼å®¹æ€§æ˜¯åå˜çš„</span>
<span class="token comment">// Fooï¼ˆçˆ¶ç±»ï¼‰ = Barï¼ˆå­ç±»ï¼‰ ok</span>
<span class="token keyword">let</span> <span class="token function-variable function">x</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Foo
<span class="token keyword">let</span> <span class="token function-variable function">y</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Bar
x <span class="token operator">=</span> y <span class="token comment">// ok</span>
y <span class="token operator">=</span> x <span class="token comment">// error</span>
</code></pre></div><h4 id="å‡½æ•°å‚æ•°çš„æ•°é‡å…¼å®¹æ€§"><a href="#å‡½æ•°å‚æ•°çš„æ•°é‡å…¼å®¹æ€§" class="header-anchor">#</a> å‡½æ•°å‚æ•°çš„æ•°é‡å…¼å®¹æ€§</h4> <p>å‡½æ•°å¯ä»¥å…è®¸å¿½ç•¥ä¸€éƒ¨åˆ†å‚æ•°ï¼ˆå…·æœ‰é€†å˜æ€§ï¼Ÿï¼‰</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> <span class="token function-variable function">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">void</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// å‚æ•°æ•°é‡å°‘</span>
<span class="token keyword">let</span> <span class="token function-variable function">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">void</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// å‚æ•°æ•°é‡å¤š</span>
y <span class="token operator">=</span> x <span class="token comment">// ok</span>
x <span class="token operator">=</span> y <span class="token comment">// error</span>
</code></pre></div><h3 id="æšä¸¾å…¼å®¹æ€§"><a href="#æšä¸¾å…¼å®¹æ€§" class="header-anchor">#</a> æšä¸¾å…¼å®¹æ€§</h3> <p>æšä¸¾ç±»å‹ä¸æ•°å­—ç±»å‹å…¼å®¹ï¼Œä¸åŒæšä¸¾ç±»å‹ä¹‹é—´ä¸å…¼å®¹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Bar <span class="token punctuation">{</span>
  <span class="token constant">T</span><span class="token punctuation">,</span>
  <span class="token constant">R</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> Foo <span class="token punctuation">{</span>
  <span class="token constant">T</span><span class="token punctuation">,</span>
  <span class="token constant">R</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// ok</span>
<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> Bar<span class="token punctuation">.</span><span class="token constant">T</span>
<span class="token comment">// error</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> Foo <span class="token operator">=</span> Bar<span class="token punctuation">.</span><span class="token constant">T</span>
</code></pre></div><h3 id="ç±»å…¼å®¹æ€§"><a href="#ç±»å…¼å®¹æ€§" class="header-anchor">#</a> ç±»å…¼å®¹æ€§</h3> <p>ç±»ç±»å‹çš„å…¼å®¹æ€§å’Œå¯¹è±¡å­—é¢é‡ç±»ä¼¼ã€‚ä½†ç±»ç±»å‹åªä¼šæ¯”è¾ƒç±»çš„å®ä¾‹éƒ¨åˆ†ï¼Œé™æ€æˆå‘˜å’Œæ„é€ å‡½æ•°ä¸åœ¨å…¼å®¹æ€§çš„æ¯”è¾ƒèŒƒå›´å†…ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Faz</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> version<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> Bar
<span class="token keyword">let</span> foo<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token keyword">let</span> faz<span class="token operator">!</span><span class="token operator">:</span> Faz
<span class="token keyword">let</span> boo<span class="token operator">!</span><span class="token operator">:</span> Boo
foo <span class="token operator">=</span> bar <span class="token comment">// errorï¼Œç¼ºå°‘ageå®ä¾‹å±æ€§ï¼Œå…¼å®¹æ€§çš„è§„åˆ™å’Œå¯¹è±¡ç±»ä¼¼</span>
bar <span class="token operator">=</span> foo <span class="token comment">// ok</span>
bar <span class="token operator">=</span> faz <span class="token comment">// errorï¼Œnameå’Œageä¸å…¼å®¹</span>
boo <span class="token operator">=</span> bar <span class="token comment">// okï¼Œé™æ€æˆå‘˜ä¸ä¼šæ¯”è¾ƒå…¼å®¹æ€§</span>
</code></pre></div><h3 id="æ³›å‹å…¼å®¹æ€§"><a href="#æ³›å‹å…¼å®¹æ€§" class="header-anchor">#</a> æ³›å‹å…¼å®¹æ€§</h3> <p>æ³›å‹è¿›è¡Œå…¼å®¹æ€§æ¯”è¾ƒæ—¶ï¼Œéœ€è¦æŒ‡å®šæ³›å‹å‚æ•°åæ¯”è¾ƒã€‚å½“æ²¡æœ‰æŒ‡å®šæ³›å‹å‚æ•°æ—¶ï¼Œæ³›å‹å‚æ•°é»˜è®¤ä¸º<code>any</code>ç±»å‹ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Bar<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">U</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Far<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">R</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Bar<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> b<span class="token operator">!</span><span class="token operator">:</span> Foo<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> c<span class="token operator">!</span><span class="token operator">:</span> Far<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
a <span class="token operator">=</span> b <span class="token comment">// ok</span>
b <span class="token operator">=</span> c <span class="token comment">// error</span>
</code></pre></div><h3 id="å…¼å®¹æ€§æ€»ç»“"><a href="#å…¼å®¹æ€§æ€»ç»“" class="header-anchor">#</a> å…¼å®¹æ€§æ€»ç»“</h3> <ul><li>å¯¹è±¡å…¼å®¹æ€§ åå˜ï¼ˆCovariantï¼‰</li> <li>å‡½æ•°å…¼å®¹æ€§
<ul><li>å‡½æ•°å‚æ•°å…¼å®¹æ€§ åŒå‘åå˜ï¼ˆBivariantï¼‰-æ›´å®‰å…¨-&gt; é€†å˜ï¼ˆContravariantï¼‰</li> <li>å‡½æ•°è¿”å›å€¼å…¼å®¹ åå˜ï¼ˆCovariantï¼‰</li> <li>å‡½æ•°å‚æ•°ä¸ªæ•° é€†å˜ï¼ˆContravariantï¼‰</li></ul></li> <li>æšä¸¾å…¼å®¹æ€§ï¼ˆæ•°å­— &lt;= æšä¸¾ okï¼Œæšä¸¾ a &lt;= æšä¸¾ b errorï¼‰</li> <li>ç±»å…¼å®¹æ€§ï¼ˆå’Œå¯¹è±¡å…¼å®¹æ€§ç±»å‹ç±»ä¼¼ï¼‰</li> <li>æ³›å‹å…¼å®¹æ€§ï¼ˆéœ€è¦æŒ‡å®šæ³›å‹å‚æ•°åæ¯”è¾ƒï¼‰</li></ul> <h2 id="åä¹‰åŒ–ç±»å‹"><a href="#åä¹‰åŒ–ç±»å‹" class="header-anchor">#</a> åä¹‰åŒ–ç±»å‹</h2> <p>ts çš„å…¼å®¹æ€§æ˜¯åŸºäºç»“æ„çš„ã€‚ä½†æœ‰æ—¶ï¼Œæˆ‘ä»¬ç¡®å®æƒ³è¦åŒºåˆ†ï¼Œç»“æ„ç›¸åŒçš„ä¸¤ç§ç±»å‹ã€‚</p> <h3 id="ä½¿ç”¨å­—é¢é‡ç±»å‹"><a href="#ä½¿ç”¨å­—é¢é‡ç±»å‹" class="header-anchor">#</a> ä½¿ç”¨å­—é¢é‡ç±»å‹</h3> <p>ä½¿ç”¨å­—é¢é‡ç±»å‹åŒºåˆ†ç»“æ„ç›¸åŒçš„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  color<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> blackPeople<span class="token operator">!</span><span class="token operator">:</span> People<span class="token operator">&lt;</span><span class="token string">'black'</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> whitePeople<span class="token operator">!</span><span class="token operator">:</span> People<span class="token operator">&lt;</span><span class="token string">'white'</span><span class="token operator">&gt;</span>
<span class="token comment">// ç»“æ„ç›¸åŒï¼Œä½†æ˜¯ç±»å‹å¹¶ä¸å…¼å®¹</span>
<span class="token comment">// ä¾‹å­æ²¡æœ‰æ¶‰åŠä»»ä½•ç§æ—ä¸»ä¹‰æ€æƒ³</span>
blackPeople <span class="token operator">=</span> whitePeople <span class="token comment">// error</span>
whitePeople <span class="token operator">=</span> blackPeople <span class="token comment">// error</span>
</code></pre></div><h3 id="ä½¿ç”¨æšä¸¾"><a href="#ä½¿ç”¨æšä¸¾" class="header-anchor">#</a> ä½¿ç”¨æšä¸¾</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> FooEnum <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> BooEnum <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">FooTitular</span> <span class="token operator">=</span> Foo <span class="token operator">&amp;</span> FooEnum
<span class="token keyword">type</span> <span class="token class-name">BooTitular</span> <span class="token operator">=</span> Boo <span class="token operator">&amp;</span> BooEnum
<span class="token keyword">let</span> a<span class="token operator">:</span> FooTitular <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> FooTitular
<span class="token keyword">let</span> b<span class="token operator">:</span> BooTitular <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'456'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> BooTitular
<span class="token comment">// ç»“æ„ç›¸åŒä½†æ˜¯ä¸å…¼å®¹</span>
a <span class="token operator">=</span> b <span class="token comment">// error</span>
b <span class="token operator">=</span> a <span class="token comment">// error</span>
</code></pre></div><h3 id="ä½¿ç”¨æ¥å£"><a href="#ä½¿ç”¨æ¥å£" class="header-anchor">#</a> ä½¿ç”¨æ¥å£</h3> <p>ä¸ºç±»å‹æ·»åŠ ä¸€ä¸ªæ— å…³çš„å±æ€§ï¼Œæ‰“ç ´ç»“æ„å…¼å®¹æ€§ï¼Œè¿™ä¸ªæ— å…³çš„å±æ€§çš„å‘½åä¹ æƒ¯ï¼Œé€šå¸¸æ˜¯ä»¥<code>_</code>å¼€å¤´ï¼Œä»¥<code>Brand</code>ç»“å°¾</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token keyword">extends</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  _aBrand<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  _bBrand<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token keyword">as</span> <span class="token builtin">any</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">'b'</span> <span class="token keyword">as</span> <span class="token builtin">any</span>
<span class="token comment">// ç»“æ„ç›¸åŒï¼Œä½†æ˜¯ç±»å‹ä¸å…¼å®¹</span>
a <span class="token operator">=</span> b <span class="token comment">// error</span>
b <span class="token operator">=</span> a <span class="token comment">// error</span>
</code></pre></div><h2 id="âœ¨-é«˜çº§ç±»å‹"><a href="#âœ¨-é«˜çº§ç±»å‹" class="header-anchor">#</a> âœ¨ é«˜çº§ç±»å‹</h2> <h3 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="header-anchor">#</a> äº¤å‰ç±»å‹</h3> <p>å°†å¤šç§ç±»å‹å åŠ æˆä¸ºä¸€ç§ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">assign</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">U</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>y <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> foo<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> bar<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> boo <span class="token operator">=</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// booæ˜¯Bar &amp; Fooçš„äº¤å‰ç±»å‹</span>
boo<span class="token punctuation">.</span>bar <span class="token comment">// ok</span>
boo<span class="token punctuation">.</span>foo <span class="token comment">// ok</span>
</code></pre></div><h3 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="header-anchor">#</a> è”åˆç±»å‹</h3> <p>è”åˆç±»å‹è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚å½“ä¸€ä¸ªå€¼æ˜¯è”åˆç±»å‹æ—¶ï¼Œæˆ‘ä»¬èƒ½ç¡®å®šå®ƒåŒ…å«å¤šç§ç±»å‹çš„å…±æœ‰æˆå‘˜ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz
a<span class="token punctuation">.</span><span class="token function">sex</span><span class="token punctuation">(</span>
  <span class="token comment">// errorï¼Œå½“aæ˜¯Booï¼ŒBazç±»å‹æ—¶ï¼Œæ˜¯æ²¡æœ‰sexå±æ€§</span>
  a <span class="token keyword">as</span> Foo
<span class="token punctuation">)</span><span class="token punctuation">.</span>sex <span class="token comment">// ok</span>
</code></pre></div><h3 id="ç±»å‹ä¿æŠ¤"><a href="#ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> ç±»å‹ä¿æŠ¤</h3> <h4 id="è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤"><a href="#è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤</h4> <p>å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œè¿”å›å€¼ä¸º<code>arg is type</code>ç±»å‹è°“è¯ã€‚arg æ˜¯è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤å‡½æ•°ä¸­çš„ä¸€ä¸ªå‚æ•°ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Baz</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">BooFooBaz</span> <span class="token operator">=</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz

<span class="token keyword">function</span> <span class="token function">isBoo</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> BooFooBaz<span class="token punctuation">)</span><span class="token operator">:</span> arg <span class="token keyword">is</span> Boo <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>arg <span class="token keyword">as</span> Boo<span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">'undefined'</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isBoo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="typeof-ç±»å‹ä¿æŠ¤"><a href="#typeof-ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> typeof ç±»å‹ä¿æŠ¤</h4> <p>é’ˆå¯¹ numberã€stringã€booleanã€symbol æä¾›ç±»å‹ä¿æŠ¤ã€‚æˆ‘ä»¬å¯ä»¥ä¸å¿…å°†<code>typeof</code>æŠ½è±¡æˆè¿”å›ç±»å‹è°“è¯çš„ç‰¹æ®Šå‡½æ•°ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="instanceof-ç±»å‹ä¿æŠ¤"><a href="#instanceof-ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> instanceof ç±»å‹ä¿æŠ¤</h4> <p>é’ˆå¯¹ç±»ç±»å‹æä¾›ç±»å‹ä¿æŠ¤</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Bar <span class="token operator">|</span> Foo

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">.</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
  a<span class="token punctuation">.</span><span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Bar</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">.</span><span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
  a<span class="token punctuation">.</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="in-ç±»å‹ä¿æŠ¤"><a href="#in-ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> in ç±»å‹ä¿æŠ¤</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
  y<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">doStuff</span><span class="token punctuation">(</span>q<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ¤æ–­æ˜¯å¦æœ‰xå±æ€§</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'x'</span> <span class="token keyword">in</span> q<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="å­—é¢é‡ç±»å‹ä¿æŠ¤"><a href="#å­—é¢é‡ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> å­—é¢é‡ç±»å‹ä¿æŠ¤</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'foo'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">temp</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> Foo <span class="token operator">|</span> Bar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Fooç±»å‹</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Barç±»å‹</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="null-ç±»å‹"><a href="#null-ç±»å‹" class="header-anchor">#</a> null ç±»å‹</h3> <p>null, undefined å¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ã€‚åœ¨ tsconfig.js ä¸­æ·»åŠ <code>strictNullChecks</code>çš„é…ç½®ï¼Œå¯ä»¥é˜»æ­¢è¿™ç§è¡Œä¸ºã€‚å¼€å¯<code>strictNullChecks</code>åï¼Œä¸€ä¸ªå˜é‡é»˜è®¤ä¸åœ¨è‡ªåŠ¨åŒ…å«<code>null</code>å’Œ<code>undefined</code>ç±»å‹ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// å¼€å¯strictNullCheckså‰</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span>
a <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// ok</span>

<span class="token comment">// å¼€å¯strictNullCheckså</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span>
b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// error</span>
</code></pre></div><h4 id="æ–­è¨€æ’é™¤-undefined-null-ç±»å‹"><a href="#æ–­è¨€æ’é™¤-undefined-null-ç±»å‹" class="header-anchor">#</a> æ–­è¨€æ’é™¤ undefinedï¼Œnull ç±»å‹</h4> <p>åœ¨å˜é‡ååæ·»åŠ <code>!</code>ï¼Œå¯ä»¥æ–­è¨€æ’é™¤ undefined å’Œ null ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
a<span class="token punctuation">.</span>length <span class="token comment">// error</span>
a<span class="token operator">!</span><span class="token punctuation">.</span>length <span class="token comment">// ok</span>
</code></pre></div><h3 id="âœ¨-ç±»å‹åˆ«å"><a href="#âœ¨-ç±»å‹åˆ«å" class="header-anchor">#</a> âœ¨ ç±»å‹åˆ«å</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç±»å‹åˆ«åä¹Ÿå¯ç”¨æ¥å£°æ˜å‡½æ•°</span>
<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">number</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç±»å‹åˆ«åä¹Ÿå¯ä»¥æ˜¯æ³›å‹</span>
<span class="token keyword">type</span> <span class="token class-name">Boo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç±»å‹åˆ«åä¸­å¯ä»¥å¼•ç”¨è‡ªèº«</span>
<span class="token keyword">type</span> <span class="token class-name">LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token constant">T</span>
  next<span class="token operator">:</span> LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span>
  prev<span class="token operator">:</span> LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="ç±»å‹åˆ«åå’Œæ¥å£çš„åŒºåˆ«"><a href="#ç±»å‹åˆ«åå’Œæ¥å£çš„åŒºåˆ«" class="header-anchor">#</a> ç±»å‹åˆ«åå’Œæ¥å£çš„åŒºåˆ«</h4> <ol><li>ç±»å‹åˆ«åå¯ä»¥ä¸ºä»»ä½•ç±»å‹å¼•å…¥åç§°ã€‚ä¾‹å¦‚åŸºæœ¬ç±»å‹ï¼Œè”åˆç±»å‹ç­‰</li> <li>ç±»å‹åˆ«åä¸æ”¯æŒç»§æ‰¿</li> <li>ç±»å‹åˆ«åä¸ä¼šåˆ›å»ºä¸€ä¸ªçœŸæ­£çš„åå­—</li> <li>ç±»å‹åˆ«åæ— æ³•è¢«å®ç°ï¼Œè€Œæ¥å£å¯ä»¥è¢«æ´¾ç”Ÿç±»å®ç°</li> <li>ç±»å‹åˆ«åé‡åæ—¶ç¼–è¯‘å™¨ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ¥å£é‡åæ—¶ä¼šäº§ç”Ÿåˆå¹¶</li></ol> <h3 id="å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹"><a href="#å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹" class="header-anchor">#</a> å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> <span class="token string">'js'</span>
a <span class="token operator">=</span> <span class="token string">'js'</span> <span class="token comment">// ok</span>
a <span class="token operator">=</span> <span class="token string">'java'</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> b<span class="token operator">!</span><span class="token operator">:</span> <span class="token string">'c#'</span> <span class="token operator">|</span> <span class="token string">'c++'</span>
b <span class="token operator">=</span> <span class="token string">'c#'</span> <span class="token comment">// ok</span>
b <span class="token operator">=</span> <span class="token string">'.net'</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="æ•°å­—å­—é¢é‡ç±»å‹"><a href="#æ•°å­—å­—é¢é‡ç±»å‹" class="header-anchor">#</a> æ•°å­—å­—é¢é‡ç±»å‹</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">!</span><span class="token operator">:</span> <span class="token number">1</span>
x <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> y<span class="token operator">!</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>
y <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// ok</span>
y <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="ç´¢å¼•ç±»å‹"><a href="#ç´¢å¼•ç±»å‹" class="header-anchor">#</a> ç´¢å¼•ç±»å‹</h3> <h4 id="ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦"><a href="#ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦" class="header-anchor">#</a> ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦</h4> <p><code>keyof T</code>çš„ç»“æœä¸º<code>T</code>ä¸Šå…¬å…±å±æ€§åçš„è”åˆ</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Keys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">interface</span> <span class="token class-name">Witcher</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// Witcherå…¬å…±å±æ€§åçš„è”åˆ</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witcher<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// name | age</span>
typKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Witchers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witchers<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// '0' | '1' | length | toStringâ€¦â€¦</span>

<span class="token keyword">type</span> <span class="token class-name">Keys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Witchers</span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witchers<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// number | length | toStringâ€¦â€¦</span>
funion <span class="token generic-function"><span class="token function">pluck</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>o<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> names<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> o<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> witcher <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'æ°æ´›ç‰¹'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">88</span>
<span class="token punctuation">}</span>
<span class="token comment">// (string | number)[]</span>
<span class="token comment">// ['æ°æ´›ç‰¹', '88']</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token function">pluck</span><span class="token punctuation">(</span>witcher<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="ç´¢å¼•è®¿é—®æ“ä½œç¬¦"><a href="#ç´¢å¼•è®¿é—®æ“ä½œç¬¦" class="header-anchor">#</a> ç´¢å¼•è®¿é—®æ“ä½œç¬¦</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ï¼Œç´¢å¼•è®¿é—®æ“ä½œç¬¦ã€‚ä½†æ˜¯éœ€è¦ç¡®ä¿</span><span class="token template-punctuation string">`</span></span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ˜ å°„ç±»å‹"><a href="#æ˜ å°„ç±»å‹" class="header-anchor">#</a> æ˜ å°„ç±»å‹</h3> <p>ä»æ—§ç±»å‹ä¸­åˆ›å»ºå‡ºä¸€ç§æ–°çš„ç±»å‹ï¼Œæ˜ å°„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// åªè¯»æ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">CustomReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// å¯é€‰æ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">CustomPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// å¯ä¸ºç©ºå¯ä¸ºundefinedæ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">NullUndefinedable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
typCustomPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token comment">// æå–å‡ºæŒ‡å®šçš„keyçš„ç±»å‹</span>
<span class="token comment">// Foo = { name: string, age: number }</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> CustomPick<span class="token operator">&lt;</span>Bar<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
typCustomRecord<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// { name: string, title: string, message: string }</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> CustomRecord<span class="token operator">&lt;</span><span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'title'</span> <span class="token operator">|</span> <span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="å†…ç½®æ˜ å°„ç±»å‹"><a href="#å†…ç½®æ˜ å°„ç±»å‹" class="header-anchor">#</a> å†…ç½®æ˜ å°„ç±»å‹</h3> <h4 id="exclude"><a href="#exclude" class="header-anchor">#</a> Exclude</h4> <p><code>Exclude</code>ï¼Œä»<code>T</code>å‡ºæå–å‡ºï¼Œä¸èƒ½èµ‹å€¼ç»™<code>U</code>çš„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// string | boolean</span>
<span class="token comment">// string | boolean ä¸èƒ½èµ‹å€¼ç»™numberç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="extract"><a href="#extract" class="header-anchor">#</a> Extract</h4> <p><code>Extract</code>ï¼Œä»<code>T</code>å‡ºæå–å‡ºï¼Œèƒ½èµ‹å€¼ç»™<code>U</code>çš„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// number</span>
<span class="token comment">// åªæœ‰numberèƒ½ç»™èµ‹å€¼ç»™numberç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="nonnullable"><a href="#nonnullable" class="header-anchor">#</a> NonNullable</h4> <p><code>NonNullable</code>ï¼Œä»<code>T</code>ä¸­å‰”é™¤ null å’Œ undefined ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token comment">// Foo</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span>Bar<span class="token operator">&gt;</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token comment">// error</span>
a <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><p>åŸºäº<code>NonNullable</code>å°è£…ï¼Œå‰”é™¤å±æ€§ä¸­ null å’Œ undefined ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">NonNullUndefinedable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
<span class="token comment">// Foo { name: string, age: number, sex: boolean }</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> NonNullUndefinedable<span class="token operator">&lt;</span>Bar<span class="token operator">&gt;</span>
</code></pre></div><h4 id="returntype"><a href="#returntype" class="header-anchor">#</a> ReturnType</h4> <p><code>ReturnType</code>ï¼Œè·å–<code>T</code>çš„è¿”å›å€¼ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">BarCall</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span>
<span class="token comment">// number</span>
<span class="token keyword">type</span> <span class="token class-name">BarReturn</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>BarCall<span class="token operator">&gt;</span>
</code></pre></div><h4 id="instancetype"><a href="#instancetype" class="header-anchor">#</a> InstanceType</h4> <p><code>InstanceType</code>ï¼Œè·å–<code>T</code>çš„å®ä¾‹ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// Bar, Barçš„æ„é€ å‡½æ•°çš„å®ä¾‹ç±»å‹ï¼Œå°±æ˜¯Barç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Bar<span class="token operator">&gt;</span>
</code></pre></div><h4 id="omit"><a href="#omit" class="header-anchor">#</a> Omit</h4> <p>Omit åœ¨ ts3.5 ç‰ˆæœ¬å·²ç»æˆä¸ºå†…ç½®ç±»å‹ï¼ˆè§ä¸‹æ–‡ï¼‰</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Exclude&lt;keyof T, K&gt;ä»key of Tä¸­å‡ºå‰”é™¤æ‰€æœ‰Kçš„ç±»å‹</span>
<span class="token comment">// Pick&lt;T, U&gt;æ˜ å°„å‡ºåªæœ‰Uå±æ€§çš„æ–°ç±»å‹</span>
<span class="token comment">// æ¨¡æ‹ŸOmitæ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">CustomOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><h2 id="lib-d-ts"><a href="#lib-d-ts" class="header-anchor">#</a> lib.d.ts</h2> <p>åœ¨å®‰è£…<code>typescript</code>æ—¶ï¼Œä¼šå®‰è£…ä¸€ç³»åˆ—å£°æ˜æ–‡ä»¶<code>lib.dom.d.ts</code>ï¼Œ<code>lib.es2015.core.d.ts</code>ç­‰ã€‚å®ƒä»¬åŒ…å«äº† javaScript è¿è¡Œæ—¶ä»¥åŠ dom ä¸­å­˜åœ¨å„ç§å¸¸è§çš„ç¯å¢ƒå£°æ˜</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// lib.dom.d.tså†…å®¹èŠ‚é€‰</span>

<span class="token comment">/** A window containing a DOM document; the document property points to the DOM document loaded in that window. */</span>
<span class="token keyword">interface</span> <span class="token class-name">Window</span>
  <span class="token keyword">extends</span> <span class="token class-name">EventTarget</span><span class="token punctuation">,</span>
    WindowTimers<span class="token punctuation">,</span>
    WindowSessionStorage<span class="token punctuation">,</span>
    WindowLocalStorage<span class="token punctuation">,</span>
    WindowConsole<span class="token punctuation">,</span>
    GlobalEventHandlers<span class="token punctuation">,</span>
    IDBEnvironment<span class="token punctuation">,</span>
    WindowBase64<span class="token punctuation">,</span>
    AnimationFrameProvider<span class="token punctuation">,</span>
    WindowOrWorkerGlobalScope<span class="token punctuation">,</span>
    WindowEventHandlers <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> applicationCache<span class="token operator">:</span> ApplicationCache
  <span class="token keyword">readonly</span> caches<span class="token operator">:</span> CacheStorage
  <span class="token keyword">readonly</span> clientInformation<span class="token operator">:</span> Navigator
  <span class="token keyword">readonly</span> closed<span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token keyword">readonly</span> crypto<span class="token operator">:</span> Crypto
  customElements<span class="token operator">:</span> CustomElementRegistry
  defaultStatus<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> devicePixelRatio<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token keyword">readonly</span> doNotTrack<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> document<span class="token operator">:</span> Document
  <span class="token comment">// ...more</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä¿®æ”¹åŸå§‹ç±»å‹"><a href="#ä¿®æ”¹åŸå§‹ç±»å‹" class="header-anchor">#</a> ä¿®æ”¹åŸå§‹ç±»å‹</h3> <p>åˆ›å»º<code>globals.d.ts</code>å…¨å±€çš„å£°æ˜æ–‡ä»¶ï¼Œåœ¨å…¨å±€çš„å£°æ˜æ–‡ä»¶ä¸­ä¿®æ”¹åŸå§‹çš„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// globals.d.ts</span>

<span class="token comment">// ä¿®æ”¹Windowæ¥å£ï¼Œæ·»åŠ helloworldæ–¹æ³•</span>
<span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>
  <span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token string">'helloworld'</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¿®æ”¹Dateçš„é™æ€æˆå‘˜ï¼Œæ·»åŠ todayæ–¹æ³•</span>
<span class="token keyword">interface</span> <span class="token class-name">DateConstructor</span> <span class="token punctuation">{</span>
  <span class="token function">today</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Date
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨</span>
window<span class="token punctuation">.</span><span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Date<span class="token punctuation">.</span><span class="token function">today</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="æµåŠ¨çš„ç±»å‹"><a href="#æµåŠ¨çš„ç±»å‹" class="header-anchor">#</a> æµåŠ¨çš„ç±»å‹</h2> <h3 id="å¤åˆ¶ç±»å‹"><a href="#å¤åˆ¶ç±»å‹" class="header-anchor">#</a> å¤åˆ¶ç±»å‹</h3> <p><code>import</code>é…åˆ<code>namespace</code>æˆ–è€…<code>module</code>å¯ä»¥å®ç°ç±»å‹çš„å¤åˆ¶ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> Bar <span class="token operator">=</span> Foo <span class="token comment">// Baråªæ˜¯Fooçš„å¼•ç”¨ï¼Œä¸æ˜¯ç±»å‹</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> Bar <span class="token comment">// errorï¼Œæ²¡æœ‰Barç±»å‹</span>
nampace classs <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">import</span> Bar <span class="token operator">=</span> classs<span class="token punctuation">.</span>Foo <span class="token comment">// å¯ä»¥å®ç°å¤åˆ¶ç±»å‹</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> Bar <span class="token comment">// ok</span>
</code></pre></div><h3 id="è·å–å˜é‡çš„ç±»å‹"><a href="#è·å–å˜é‡çš„ç±»å‹" class="header-anchor">#</a> è·å–å˜é‡çš„ç±»å‹</h3> <p>ä½¿ç”¨<code>let</code>å’Œ<code>typeof</code>å¯ä»¥è·å–å˜é‡è‡ªèº«çš„ç±»å‹ï¼ˆå¦‚æœæ˜¯ä½¿ç”¨<code>const</code>, ä½¿ç”¨ typeof è·å–çš„æ˜¯å­—é¢é‡ç±»å‹ï¼‰</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token string">'bar'</span> <span class="token comment">// ok, barä¸ºstringç±»å‹</span>
bar <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token comment">// ok</span>
bar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">]</span> <span class="token comment">// error, barä¸ºnumber[]ç±»å‹</span>
</code></pre></div><h3 id="è·å–ç±»-å®ä¾‹-æˆå‘˜çš„ç±»å‹"><a href="#è·å–ç±»-å®ä¾‹-æˆå‘˜çš„ç±»å‹" class="header-anchor">#</a> è·å–ç±»ï¼ˆå®ä¾‹ï¼‰æˆå‘˜çš„ç±»å‹</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> _foo<span class="token operator">:</span> Foo
<span class="token comment">// barä¸ºstringç±»å‹ï¼Œ_fooæ˜¯Fooçš„å®ä¾‹</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> <span class="token keyword">typeof</span> _foo<span class="token punctuation">.</span>name
</code></pre></div><h3 id="è·å–å­—é¢é‡ç±»å‹"><a href="#è·å–å­—é¢é‡ç±»å‹" class="header-anchor">#</a> è·å–å­—é¢é‡ç±»å‹</h3> <p>ä½¿ç”¨<code>const</code>å…³é”®å­—ä¸<code>typeof</code>ï¼Œå¯ä»¥è·å–å­—é¢é‡ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token string">'bar'</span> <span class="token comment">// error</span>
bar <span class="token operator">=</span> <span class="token string">'foo'</span> <span class="token comment">// ok, fooç±»å‹ä¸ºfoo</span>
</code></pre></div><h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="header-anchor">#</a> å‘½åç©ºé—´</h2> <p>ä½¿ç”¨å‘½åç©ºé—´ç»„ç»‡ä»£ç ï¼Œé¿å…å‘½åå†²çªã€‚å¦‚æœå¤–éƒ¨æƒ³è®¿é—®å‘½åç©ºé—´å†…éƒ¨çš„å†…å®¹ï¼Œå‘½åç©ºé—´ä¸­çš„å†…å®¹ï¼Œéœ€è¦ä½¿ç”¨<code>export</code>å¯¼å‡º</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Math <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">+</span> b
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="å‘½åç©ºé—´åˆ«å"><a href="#å‘½åç©ºé—´åˆ«å" class="header-anchor">#</a> å‘½åç©ºé—´åˆ«å</h3> <p><code>import alias = namespace.namespace</code>ï¼Œå¯ä»¥ä¸ºå‘½åç©ºé—´åˆ›å»ºåˆ«å</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Math <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">namespace</span> Geometry <span class="token punctuation">{</span>
      <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä½¿ç”¨æ—¶ï¼Œä¼šæœ‰å¤šä¸ªå±‚çº§çš„å…³ç³»</span>
Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// ä½¿ç”¨å‘½åç©ºé—´åˆ«å</span>
<span class="token keyword">import</span> Geometry <span class="token operator">=</span> Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span>Geometry
Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä½¿ç”¨å…¶ä»–-javascript-åº“"><a href="#ä½¿ç”¨å…¶ä»–-javascript-åº“" class="header-anchor">#</a> ä½¿ç”¨å…¶ä»– javascript åº“</h3> <p>ts åœ¨ä½¿ç”¨ï¼Œä½¿ç”¨ js ç¼–å†™çš„ç±»åº“æ—¶ï¼Œéœ€è¦ç±»å‹å£°æ˜æ–‡ä»¶<code>xx.d.ts</code>ï¼Œå¤§éƒ¨åˆ†ç±»åº“é€šå¸¸ä¼šæš´éœ²ä¸€ä¸ªé¡¶çº§çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å‘½åç©ºé—´è¡¨ç¤ºå®ƒä»¬ã€‚ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// node_modules/custom-lib/index.d.ts</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Geometry <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">const</span> gravitationalConstant<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token comment">// c/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Lib<span class="token punctuation">,</span> gravitationalConstant <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'custom-lib'</span>

Lib<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>gravitationalConstant<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="âœ¨-ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹"><a href="#âœ¨-ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹" class="header-anchor">#</a> âœ¨ ä¸€äº›æ‰‹å†ŒæŒ‡å—ä¸­æ²¡æœ‰æåŠçš„å†…å®¹</h2> <h3 id="åªè¯»æ•°ç»„çš„æ–°è¯­æ³•"><a href="#åªè¯»æ•°ç»„çš„æ–°è¯­æ³•" class="header-anchor">#</a> åªè¯»æ•°ç»„çš„æ–°è¯­æ³•</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// åŸæ¥çš„è¯­æ³•</span>
<span class="token keyword">const</span> bar<span class="token operator">:</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">]</span>
<span class="token comment">// æ–°å¢çš„è¯­æ³•</span>
<span class="token keyword">const</span> boo<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="const-ç±»å‹æ–­è¨€"><a href="#const-ç±»å‹æ–­è¨€" class="header-anchor">#</a> const ç±»å‹æ–­è¨€</h3> <p>ä½¿ç”¨ const æ–­è¨€ï¼Œtypescript ä¼šä¸ºå˜é‡æ·»åŠ ä¸€ä¸ªè‡ªèº«çš„å­—é¢é‡ç±»å‹ã€‚ä¸¾ä¸€ä¸ªä¾‹å­</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// tsè‡ªåŠ¨æ¨å¯¼ä¸ºxæ·»åŠ `string`ç±»å‹</span>
<span class="token comment">// let x: string = '123'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'123'</span>
<span class="token comment">// xå¯ä»¥è¢«å†æ¬¡èµ‹å€¼</span>
x <span class="token operator">=</span> <span class="token string">'456'</span>

<span class="token comment">// ä½¿ç”¨constæ–­è¨€ï¼Œä¼šä¸ºxæ·»åŠ è‡ªèº«çš„å­—é¢é‡ç±»å‹</span>
<span class="token comment">// let x: '123' = '123'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'123'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// errorï¼Œxä¸èƒ½è¢«é‡æ–°èµ‹å€¼</span>
x <span class="token operator">=</span> <span class="token string">'456'</span>
</code></pre></div><p>ä½¿ç”¨ const æ–­è¨€æ—¶ï¼š</p> <ol><li>å¯¹è±¡å­—é¢é‡çš„å±æ€§ï¼Œè·å¾—<code>readonly</code>çš„å±æ€§ï¼Œæˆä¸ºåªè¯»å±æ€§</li> <li>æ•°ç»„å­—é¢é‡æˆä¸º<code>readonly tuple</code>åªè¯»å…ƒç»„</li> <li>å­—é¢é‡ç±»å‹ä¸èƒ½è¢«æ‰©å±•ï¼ˆæ¯”å¦‚ä»<code>hello</code>ç±»å‹åˆ°<code>string</code>ç±»å‹ï¼‰</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// type '&quot;hello&quot;'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'hello'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// type '{ readonly text: &quot;hello&quot; }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre></div><p>const æ–­è¨€æ”¯æŒä¸¤ç§è¯­æ³•ï¼Œ<code>as</code>è¯­æ³•ï¼Œåœ¨é tsx æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨``è¯­æ³•</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// type '&quot;hello&quot;'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token string">'hello'</span>
<span class="token comment">// type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
<span class="token comment">// type '{ readonly text: &quot;hello&quot; }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="unknown-ç±»å‹"><a href="#unknown-ç±»å‹" class="header-anchor">#</a> unknown ç±»å‹</h3> <p><code>unknown</code>ç±»å‹å’Œ<code>any</code>ç±»å‹ç±»ä¼¼ã€‚ä¸<code>any</code>ç±»å‹ä¸åŒçš„æ˜¯ã€‚<code>unknown</code>ç±»å‹å¯ä»¥æ¥å—ä»»æ„ç±»å‹èµ‹å€¼ï¼Œä½†æ˜¯<code>unknown</code>ç±»å‹èµ‹å€¼ç»™å…¶ä»–ç±»å‹å‰ï¼Œå¿…é¡»è¢«æ–­è¨€ã€‚</p> <p><code>unknown</code>å¯¹é‚£ç§<strong>æƒ³è¡¨ç¤ºæ˜¯ä»»ä½•å€¼ï¼Œä½†æ˜¯ä½¿ç”¨å‰å¿…é¡»æ‰§è¡Œç±»å‹æ£€æŸ¥çš„ api</strong>å¾ˆæœ‰ç”¨ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// ok</span>
<span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x

<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// error</span>
<span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x
<span class="token comment">// okï¼Œå¿…é¡»ç»è¿‡æ–­è¨€å¤„ç†æ‰èƒ½èµ‹å€¼ç»™ç¡®è®¤çš„ç±»å‹</span>
<span class="token keyword">let</span> z<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x <span class="token keyword">as</span> <span class="token builtin">number</span>
</code></pre></div><h3 id="âœ¨âœ¨âœ¨infer"><a href="#âœ¨âœ¨âœ¨infer" class="header-anchor">#</a> âœ¨âœ¨âœ¨infer</h3> <p>ä¸€å¼€å§‹ï¼Œæˆ‘å¾ˆéš¾ç†è§£ infer åˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬ä»ä¸¤ä¸ªç®€å•çš„ç¤ºä¾‹å¼€å§‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Pro<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span>infer <span class="token constant">R</span><span class="token operator">&gt;</span></span> <span class="token operator">?</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Pro<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span> <span class="token comment">// Bar = Promise&lt;string[]&gt;ï¼ŒPromise&lt;string[]&gt;æ»¡è¶³Promise&lt;R&gt;çš„çº¦æŸ</span>
<span class="token keyword">type</span> <span class="token class-name">Boo</span> <span class="token operator">=</span> Pro<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token comment">// Boo = number</span>
</code></pre></div><p><code>type Pro</code>ï¼Œä¼šæ£€æŸ¥æ³›å‹å‚æ•°<code>T</code>ï¼Œå¦‚æœæ³›å‹å‚æ•°<code>T</code>æ»¡è¶³<code>Promise</code>çš„çº¦æŸæ¡ä»¶ï¼Œè¿”å›<code>Promise</code>çš„ç±»å‹ï¼Œå¦åˆ™è¿”å›<code>T</code>ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Param<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>param<span class="token operator">:</span> infer <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name">getUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> object

<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Param<span class="token operator">&lt;</span>getUser<span class="token operator">&gt;</span> <span class="token comment">// Fooç­‰äºgetUserçš„å‚æ•°ç±»å‹ï¼Œnumberç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Param<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token comment">// Barç­‰äºbooleanç±»å‹</span>
</code></pre></div><p><code>type Param</code>ï¼Œä¼šæ£€æŸ¥æ³›å‹å‚æ•°<code>T</code>ï¼Œå¦‚æœæ³›å‹å‚æ•°<code>T</code>æ»¡è¶³<code>(param: infer P) =&gt; any</code>çš„çº¦æŸï¼Œä¼šè¿”å›å‚æ•°çš„ç±»å‹ï¼Œå¦åˆ™è¿”å›<code>T</code>ç±»å‹</p> <h4 id="infer-æ˜ å°„ç±»å‹"><a href="#infer-æ˜ å°„ç±»å‹" class="header-anchor">#</a> infer æ˜ å°„ç±»å‹</h4> <p>typescript ä¸­å†…ç½®çš„ infer æ˜ å°„ç±»å‹</p> <h5 id="type-returntype"><a href="#type-returntype" class="header-anchor">#</a> type ReturnType</h5> <p>æå–è·å–å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// Foo = string[]</span>
</code></pre></div><p><code>type ReturnType</code>å†…éƒ¨çš„å…·ä½“å®ç°</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// è‡ªå®šä¹‰ReturnTypeæ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">CustomReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> infer <span class="token constant">P</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> CustomReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// Foo = string[]</span>
</code></pre></div><h5 id="type-constructorparameters"><a href="#type-constructorparameters" class="header-anchor">#</a> type ConstructorParameters</h5> <p>æå–æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Params</span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Foo<span class="token operator">&gt;</span> <span class="token comment">// [string, number]</span>
</code></pre></div><p><code>type ConstructorParameters</code>å†…éƒ¨å…·ä½“å®ç°</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ConstructorParametersæ˜ å°„ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">CustomConstructorParameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">new</span></span> <span class="token punctuation">(</span>
  <span class="token operator">...</span>args<span class="token operator">:</span> infer <span class="token constant">P</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token operator">?</span> <span class="token constant">P</span>
  <span class="token operator">:</span> <span class="token builtin">never</span>
<span class="token keyword">type</span> <span class="token class-name">Params</span> <span class="token operator">=</span> CustomConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Foo<span class="token operator">&gt;</span> <span class="token comment">// [string, number]</span>
</code></pre></div><h4 id="å…ƒç»„ç±»å‹-è”åˆç±»å‹"><a href="#å…ƒç»„ç±»å‹-è”åˆç±»å‹" class="header-anchor">#</a> å…ƒç»„ç±»å‹ -&gt; è”åˆç±»å‹</h4> <p>å¦‚ä½•å°† <code>[string, number]</code> è½¬å˜æˆ <code>string | number</code>?</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">CustomTuple</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">TupleToUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span>infer <span class="token constant">P</span><span class="token operator">&gt;</span></span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span>

<span class="token keyword">type</span> <span class="token class-name">CustomUnion</span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span>CustomTuple<span class="token operator">&gt;</span> <span class="token comment">// string | number | boolean</span>
</code></pre></div><h4 id="è”åˆç±»å‹-äº¤å‰ç±»å‹"><a href="#è”åˆç±»å‹-äº¤å‰ç±»å‹" class="header-anchor">#</a> è”åˆç±»å‹ -&gt; äº¤å‰ç±»å‹</h4> <p>ã€ŠTypeScript æ·±å…¥æµ…å‡ºã€‹ä¸­çš„ä¾‹å­ï¼Œåœ¨ç›®å‰çš„ç‰ˆæœ¬ï¼ˆ3.6.4ï¼‰ä¸­å­˜åœ¨ä¸€äº›<a href="https://github.com/microsoft/TypeScript/issues/34732" target="_blank" rel="noopener noreferrer">é—®é¢˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="type-omit"><a href="#type-omit" class="header-anchor">#</a> type Omit</h3> <p><code>Omit</code>æ˜¯ 3.5 ç‰ˆæœ¬ä¸­æ–°å¢çš„æ˜ å°„ç±»å‹, ä»<code>T</code>ä¸­åˆ é™¤æ‰€æœ‰çš„<code>K</code>ç±»å‹ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bar = { name: string }</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
</code></pre></div><p>åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å¯ä»¥ä½¿ç”¨<code>type Omit = Pick&gt;</code>å®ç°</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h2> <p>æ„Ÿè°¢å¤§ä½¬ä»¬çš„ä»˜å‡º â¤ï¸</p> <ul><li><a href="https://jkchao.cn/" target="_blank" rel="noopener noreferrer">âœ¨ ä¸‰æ¯›å¤§ä½¬çš„åšå®¢<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£ TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.tslang.cn/" target="_blank" rel="noopener noreferrer">TypeScript ä¸­æ–‡ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://dev.to/aexol/typescript-tutorial-infer-keyword-2cn" target="_blank" rel="noopener noreferrer">TypeScript Tutorial - 'infer' keyword<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[<a href="https://zhuanlan.zhihu.com/p/58704376" target="_blank" rel="noopener noreferrer">TypeScript å¥‡æŠ€æ·«å·§] union to tuple<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance" target="_blank" rel="noopener noreferrer">What are covariance and contravariance?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.educba.com/typescript-type-vs-interface/" target="_blank" rel="noopener noreferrer">Differences Between TypeScript Type vs Interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <blockquote><p>æ–‡ç« æ¥æº <a href="https://juejin.im/post/5db429d0f265da4d204f34e0" target="_blank" rel="noopener noreferrer">ã€Œå­¦ä¹ ç¬”è®°ã€TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/notes/docs1/TS1.html" class="prev">
        TypeScript(1)
      </a></span> <span class="next"><a href="/notes/docs1/æ€§èƒ½ä¼˜åŒ–.html">
        å‰ç«¯æ€§èƒ½ä¼˜åŒ–
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.d4c7d2ae.js" defer></script><script src="/assets/js/38.4e55b6b9.js" defer></script><script src="/assets/js/3.07504c13.js" defer></script><script src="/assets/js/172.28e177a3.js" defer></script>
  </body>
</html>
