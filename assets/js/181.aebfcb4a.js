(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{531:function(v,_,l){"use strict";l.r(_);var i=l(6),t=Object(i.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"从输入-url-到页面展示"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#从输入-url-到页面展示"}},[v._v("#")]),v._v(" 从输入 URL 到页面展示")]),v._v(" "),_("p",[v._v("导航")]),v._v(" "),_("p",[v._v("用户输入")]),v._v(" "),_("ol",[_("li",[v._v("用户在地址栏按下回车，检查输入（关键字 or 符合 URL 规则），组装完整 URL；")]),v._v(" "),_("li",[v._v("回车前，当前页面执行 onbeforeunload 事件；")]),v._v(" "),_("li",[v._v("浏览器进入加载状态。")])]),v._v(" "),_("p",[v._v("URL 请求")]),v._v(" "),_("ol",[_("li",[v._v("浏览器进程通过 IPC 把 URL 请求发送至网络进程；")]),v._v(" "),_("li",[v._v("查找资源缓存（有效期内）；")]),v._v(" "),_("li",[v._v("DNS 解析（查询 DNS 缓存）；")]),v._v(" "),_("li",[v._v("进入 TCP 队列（单个域名 TCP 连接数量限制）；")]),v._v(" "),_("li",[v._v("创建 TCP 连接（三次握手）；")]),v._v(" "),_("li",[v._v("HTTPS 建立 TLS 连接（client hello, server hello, pre-master key 生成『对话密钥』）；")]),v._v(" "),_("li",[v._v("发送 HTTP 请求（请求行[方法、URL、协议]、请求头 Cookie 等、请求体 POST）；")]),v._v(" "),_("li",[v._v("接受请求（响应行[协议、状态码、状态消息]、响应头、响应体等）；\n"),_("ul",[_("li",[v._v("状态码 301 / 302，根据响应头中的 Location 重定向；")]),v._v(" "),_("li",[v._v("状态码 200，根据响应头中的 Content-Type 决定如何响应（下载文件、加载资源、渲染 HTML）。")])])])]),v._v(" "),_("p",[v._v("准备渲染进程")]),v._v(" "),_("ol",[_("li",[v._v("根据是否同一站点（相同的协议和根域名），决定是否复用渲染进程。")])]),v._v(" "),_("p",[v._v("提交文档")]),v._v(" "),_("ol",[_("li",[v._v("浏览器进程接受到网路进程的响应头数据，向渲染进程发送『提交文档』消息；")]),v._v(" "),_("li",[v._v("渲染进程收到『提交文档』消息后，与网络进程建立传输数据『管道』；")]),v._v(" "),_("li",[v._v("传输完成后，渲染进程返回『确认提交』消息给浏览器进程；")]),v._v(" "),_("li",[v._v("浏览器接受『确认提交』消息后，移除旧文档、更新界面、地址栏，导航历史状态等；")]),v._v(" "),_("li",[v._v("此时标识浏览器加载状态的小圆圈，从此前 URL 网络请求时的逆时针选择，即将变成顺时针旋转（进入渲染阶段）。")])]),v._v(" "),_("p",[v._v("渲染")]),v._v(" "),_("ul",[_("li",[v._v("渲染进程将 HTML 内容转换为能够读懂的 DOM 树结构。")]),v._v(" "),_("li",[v._v("渲染引擎将 CSS 样式表转化为浏览器可以理解的 styleSheets，计算出 DOM 节点的样式。")]),v._v(" "),_("li",[v._v("创建布局树，并计算元素的布局信息。")]),v._v(" "),_("li",[v._v("对布局树进行分层，并生成分层树。")]),v._v(" "),_("li",[v._v("为每个图层生成绘制列表，并将其提交到合成线程。")]),v._v(" "),_("li",[v._v("合成线程将图层分成图块，并在光栅化线程池中将图块转换成位图。")]),v._v(" "),_("li",[v._v("合成线程发送绘制图块命令 DrawQuad 给浏览器进程。")]),v._v(" "),_("li",[v._v("浏览器进程根据 DrawQuad 消息生成页面，并显示到显示器上。")])])])}),[],!1,null,null,null);_.default=t.exports}}]);