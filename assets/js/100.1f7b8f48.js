(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{432:function(s,t,a){"use strict";a.r(t);var e=a(5),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"查询表数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询表数据"}},[s._v("#")]),s._v(" 查询表数据")]),s._v(" "),t("h2",{attrs:{id:"基本查询语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本查询语句"}},[s._v("#")]),s._v(" 基本查询语句")]),s._v(" "),t("ul",[t("li",[s._v("条件查询:")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cust_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10086")]),s._v("\n")])])]),t("p",[s._v("其中过滤条件操作符有："),t("code",[s._v("=")]),s._v("，"),t("code",[s._v("<>")]),s._v("，"),t("code",[s._v("!=")]),s._v("，"),t("code",[s._v("<")]),s._v("，"),t("code",[s._v("<=")]),s._v("，"),t("code",[s._v(">")]),s._v("，"),t("code",[s._v(">=")]),s._v("，"),t("code",[s._v("BETWEEN AND")]),s._v("，"),t("code",[s._v("IS NULL")]),s._v(".")]),s._v(" "),t("ul",[t("li",[s._v("为某一列信息去重:")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers\n")])])]),t("ul",[t("li",[s._v("限制单列查询结果的行数：")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])])]),t("p",[s._v("LIMIT 后跟一个数值，表示从第 0 行开始取，共取 5 行数据。")]),s._v(" "),t("ul",[t("li",[s._v("排序：")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" cust_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cust_name\n")])])]),t("ul",[t("li",[s._v("IN 操作符用来指定条件范围:")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cust_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("范围中的每个条件都可以进行匹配，另外，NOT 操作符可以和 IN 操作符配合使用，用于表示检索出不符合条件的所有数据。")]),s._v(" "),t("ul",[t("li",[s._v("LIKE 操作符用来表明模糊查询")])]),s._v(" "),t("p",[s._v("与之配合使用的通配符有"),t("code",[s._v("**%**")])]),s._v(" "),t("p",[t("code",[s._v("%")]),s._v(": 表示任何字符出现任何次数"),t("br"),s._v(" "),t("code",[s._v("*")]),s._v(": 表示只能匹配一个字符")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cust_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cust_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%happy%'")]),s._v("\n")])])]),t("ul",[t("li",[s._v("使用分组查询并可以满足一定的分组过滤条件 GROUP BY HAVING。如检索总计订单金额大于等于 50 的订单号和订单总金额，并按总金额进行排序：")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" order_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("item_price"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" order_total "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orderitems\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" order_num\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("item_price"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" order_total\n")])])]),t("ul",[t("li",[s._v("WHERE 和 HAVING 的比较。")])]),s._v(" "),t("p",[s._v("WHERE 是行级过滤，而 HAVING 是组级过滤。被 WHERE 过滤掉的数据不会出现在分组中。WHERE 中通配符以及多个 WHERE 子句的连接同样适用于 HAVING 子句。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("GROUP BY 的使用注意事项：\n（1）GROUP BY 子句中可以嵌套分组（即通过多个列进行分组 GROUP BY cust_id, cust_name），但是进行数据汇总时，是在最后规定的分组上进行；"),t("br"),s._v("\n（2）GROUP BY 子句中列出的每个列都必须是检索列或者是有效的表达式。"),t("br"),s._v("\n（3）如果有 NULL 值，将值 NULL 作为一个分组进行返回，如果有多行 NULL 值，它们将分为一组")])]),s._v(" "),t("li",[t("p",[s._v("嵌套其他查询中的查询，称之为子查询。")])])]),s._v(" "),t("p",[s._v("执行过程由里向外，里层查询结果作为外层查询的条件：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" cust_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orders "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" order_num\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" order_num "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orderitems "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" prod_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'happy'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("ul",[t("li",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/32137597",target:"_blank",rel:"noopener noreferrer"}},[s._v("50 道 SQL 练习题"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);