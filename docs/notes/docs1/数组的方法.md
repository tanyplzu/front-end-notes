# 数组的方法笔记

[[toc]]

## [数组的操作方法](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)

> [30s code](https://www.30secondsofcode.org/js/t/array/p/1/)

**concat:** 合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。

> ['Apple', 'Banana'].concat() 浅拷贝

**copyWithin:** 浅复制数组的一部分到同一数组中的另一个位置，并返回它，不会改变原数组的长度。

**fill:** 用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。

**flat:** 会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。

> flat(Infinity)；会移除数组中的空项

**flatMap:** 首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。它与 map 连着深度值为 1 的 flat 几乎相同，但 flatMap 通常在合并成一种方法的效率稍微高一些。

**find:** 返回数组中满足提供的测试函数的第一个元素的值。否则返回 undefined。

**findIndex:** 返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。

> 循环中 return 会终止

**includes:** 用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回 false。

**indexOf:** 返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。

**lastIndexOf:** 返回指定元素（也即有效的 JavaScript 值或变量）在数组中的最后一个的索引，如果不存在则返回 -1。从数组的后面向前查找，从 fromIndex 处开始。

**forEach:** 对数组的每个元素执行一次给定的函数。

**filter:** 创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。

**map:** 创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。

**reduce:** 对数组中的每个元素执行一个由您提供的 reducer 函数(升序执行)，将其结果汇总为单个返回值。

**reduceRight:** 接受一个函数作为累加器（accumulator）和数组的每个值（从右到左）将其减少为单个值。

**push:** 添加元素到数组的末尾,返回的是数组的长度。

**pop:** 从数组中删除最后一个元素，并返回该元素的值。此方法更改数组的长度。

**shift:** 从数组中删除第一个元素，并返回该元素的值。此方法更改数组的长度。

**unshift:** 将一个或多个元素添加到数组的开头，并返回该数组的新长度(该方法修改原有数组)。

**slice:** 返回一个新的数组对象，这一对象是一个由 begin 和 end 决定的原数组的 **浅拷贝** （包括 begin，不包括 end）。原始数组不会被改变。

**splice:** 通过删除或替换现有元素或者原地添加新的元素来修改数组,并以数组形式返回被修改的内容。此方法会改变原数组。

**every:** 测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。

**some:** 测试数组中是不是至少有 1 个元素通过了被提供的函数测试。它返回的是一个 Boolean 类型的值。

**sort:** 用原地算法对数组的元素进行排序，并返回数组。默认排序顺序是在将元素转换为字符串，然后比较它们的 UTF-16 代码单元值序列时构建的

**reverse:** 将数组中元素的位置颠倒，并返回该数组。数组的第一个元素会变成最后一个，数组的最后一个元素变成第一个。该方法会改变原数组。

**toString:** 返回一个字符串，表示指定的数组及其元素。

**toLocaleString:** 返回一个字符串表示数组中的元素。数组中的元素将使用各自的 toLocaleString 方法转成字符串，这些字符串将使用一个特定语言环境的字符串（例如一个逗号 ","）隔开。

**join:** 将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串。如果数组只有一个项目，那么将返回该项目而不使用分隔符。

**entries:** 返回一个新的 Array Iterator 对象，该对象包含数组中每个索引的键/值对。

**keys:** 返回一个包含数组中每个索引键的 Array Iterator 对象。

**values:** 返回一个新的 Array Iterator 对象，该对象包含数组每个索引的值

**@@iterator** 属性和 Array.prototype.values() 属性的初始值是同一个函数对象。`arr[Symbol.iterator]()`

**Array[@@species]** 访问器属性返回 Array 的构造函数。

例子：

使用 for...of 循环进行迭代

```js
var arr = ['a', 'b', 'c', 'd', 'e']
var eArr = arr[Symbol.iterator]()
var eArr = arr[Symbol.iterator]()
// 浏览器必须支持 for...of 循环
for (let letter of eArr) {
  console.log(letter)
}
```

另一种迭代方式

```js
var arr = ['a', 'b', 'c', 'd', 'e']
var eArr = arr[Symbol.iterator]()
console.log(eArr.next().value) // a
console.log(eArr.next().value) // b
console.log(eArr.next().value) // c
console.log(eArr.next().value) // d
console.log(eArr.next().value) // e
```

keys

```js
const array1 = ['a', 'b', 'c']
const iterator = array1.keys()
for (const key of iterator) {
  console.log(key)
}
```

full

```js
const array1 = [1, 2, 3, 4]

// fill with 0 from position 2 until position 4
console.log(array1.fill(0, 2, 4))
// expected output: [1, 2, 0, 0]

// fill with 5 from position 1
console.log(array1.fill(5, 1))
// expected output: [1, 5, 5, 5]

console.log(array1.fill(6))
// expected output: [6, 6, 6, 6]
```

### Array.from()

Array.from() 方法从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。

```js
console.log(Array.from('foo'))
// expected output: Array ["f", "o", "o"]
console.log(Array.from([1, 2, 3], x => x + x))
// expected output: Array [2, 4, 6]
```

### Array.isArray()

Array.isArray() 用于确定传递的值是否是一个 Array

### Array.of()

```js
Array.of(7) // [7]
Array.of(1, 2, 3) // [1, 2, 3]

Array(7) // [ , , , , , , ]
Array(1, 2, 3) // [1, 2, 3]
```
