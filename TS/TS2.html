<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript(2) | 朝花夕拾</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="朝花夕拾技术空间">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, minimum-scale=1">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.e3cb5c2f.css" as="style"><link rel="preload" href="/assets/js/app.86ce1c3b.js" as="script"><link rel="preload" href="/assets/js/38.9c1eeb6e.js" as="script"><link rel="preload" href="/assets/js/3.dea4e8e5.js" as="script"><link rel="preload" href="/assets/js/162.b5f59b9d.js" as="script"><link rel="prefetch" href="/assets/js/10.86925cab.js"><link rel="prefetch" href="/assets/js/100.ac4a324d.js"><link rel="prefetch" href="/assets/js/101.bd19e9f3.js"><link rel="prefetch" href="/assets/js/102.e58268d4.js"><link rel="prefetch" href="/assets/js/103.649f4611.js"><link rel="prefetch" href="/assets/js/104.33961969.js"><link rel="prefetch" href="/assets/js/105.c3f2e6ec.js"><link rel="prefetch" href="/assets/js/106.1f35734e.js"><link rel="prefetch" href="/assets/js/107.1f08b735.js"><link rel="prefetch" href="/assets/js/108.74043e21.js"><link rel="prefetch" href="/assets/js/109.cc459b62.js"><link rel="prefetch" href="/assets/js/11.933f43b8.js"><link rel="prefetch" href="/assets/js/110.f9573fd9.js"><link rel="prefetch" href="/assets/js/111.1d5cb496.js"><link rel="prefetch" href="/assets/js/112.5f2ea1c8.js"><link rel="prefetch" href="/assets/js/113.05f8dad9.js"><link rel="prefetch" href="/assets/js/114.1524487a.js"><link rel="prefetch" href="/assets/js/115.293075e1.js"><link rel="prefetch" href="/assets/js/116.fda3878c.js"><link rel="prefetch" href="/assets/js/117.14a3355e.js"><link rel="prefetch" href="/assets/js/118.0afea1ef.js"><link rel="prefetch" href="/assets/js/119.8e478a31.js"><link rel="prefetch" href="/assets/js/12.394aa2be.js"><link rel="prefetch" href="/assets/js/120.9b76548c.js"><link rel="prefetch" href="/assets/js/121.b2fd1f71.js"><link rel="prefetch" href="/assets/js/122.7f2f17ed.js"><link rel="prefetch" href="/assets/js/123.515b4431.js"><link rel="prefetch" href="/assets/js/124.b8449631.js"><link rel="prefetch" href="/assets/js/125.996c6237.js"><link rel="prefetch" href="/assets/js/126.9e973ced.js"><link rel="prefetch" href="/assets/js/127.a2cc6fa4.js"><link rel="prefetch" href="/assets/js/128.6ceabd42.js"><link rel="prefetch" href="/assets/js/129.5bcc636a.js"><link rel="prefetch" href="/assets/js/13.73416f05.js"><link rel="prefetch" href="/assets/js/130.4bfdb8f3.js"><link rel="prefetch" href="/assets/js/131.b9a7fb12.js"><link rel="prefetch" href="/assets/js/132.a6d3c342.js"><link rel="prefetch" href="/assets/js/133.727675f8.js"><link rel="prefetch" href="/assets/js/134.1c3ea451.js"><link rel="prefetch" href="/assets/js/135.f201b381.js"><link rel="prefetch" href="/assets/js/136.cfa0b95e.js"><link rel="prefetch" href="/assets/js/137.6b766669.js"><link rel="prefetch" href="/assets/js/138.6f820efb.js"><link rel="prefetch" href="/assets/js/139.beafa191.js"><link rel="prefetch" href="/assets/js/14.a1b86171.js"><link rel="prefetch" href="/assets/js/140.f027d064.js"><link rel="prefetch" href="/assets/js/141.11bdfa4f.js"><link rel="prefetch" href="/assets/js/142.34378edc.js"><link rel="prefetch" href="/assets/js/143.813d7d0d.js"><link rel="prefetch" href="/assets/js/144.79982f80.js"><link rel="prefetch" href="/assets/js/145.44c39f6d.js"><link rel="prefetch" href="/assets/js/146.88327ae7.js"><link rel="prefetch" href="/assets/js/147.89811d85.js"><link rel="prefetch" href="/assets/js/148.97179fb4.js"><link rel="prefetch" href="/assets/js/149.46904a6a.js"><link rel="prefetch" href="/assets/js/15.906b3d7e.js"><link rel="prefetch" href="/assets/js/150.369f81b2.js"><link rel="prefetch" href="/assets/js/151.4c07351f.js"><link rel="prefetch" href="/assets/js/152.c11f3969.js"><link rel="prefetch" href="/assets/js/153.261b8f54.js"><link rel="prefetch" href="/assets/js/154.811bdfac.js"><link rel="prefetch" href="/assets/js/155.b80a0a71.js"><link rel="prefetch" href="/assets/js/156.5ff280b9.js"><link rel="prefetch" href="/assets/js/157.b34df6c9.js"><link rel="prefetch" href="/assets/js/158.57dd3e32.js"><link rel="prefetch" href="/assets/js/159.dda99a75.js"><link rel="prefetch" href="/assets/js/16.78d3a971.js"><link rel="prefetch" href="/assets/js/160.9ba64bbd.js"><link rel="prefetch" href="/assets/js/161.4adfad2e.js"><link rel="prefetch" href="/assets/js/163.0100948a.js"><link rel="prefetch" href="/assets/js/164.156f533b.js"><link rel="prefetch" href="/assets/js/165.80348f20.js"><link rel="prefetch" href="/assets/js/166.722ad5bf.js"><link rel="prefetch" href="/assets/js/167.db1273ab.js"><link rel="prefetch" href="/assets/js/168.eb143651.js"><link rel="prefetch" href="/assets/js/169.310da92d.js"><link rel="prefetch" href="/assets/js/17.e9041966.js"><link rel="prefetch" href="/assets/js/170.89d86fd3.js"><link rel="prefetch" href="/assets/js/171.9ecf5023.js"><link rel="prefetch" href="/assets/js/172.1f2d4af4.js"><link rel="prefetch" href="/assets/js/173.8aeb9d2a.js"><link rel="prefetch" href="/assets/js/174.09943a63.js"><link rel="prefetch" href="/assets/js/175.2f623f4c.js"><link rel="prefetch" href="/assets/js/176.bcb175e4.js"><link rel="prefetch" href="/assets/js/177.0ba3e24f.js"><link rel="prefetch" href="/assets/js/178.ea6a69d9.js"><link rel="prefetch" href="/assets/js/179.6c2b2e26.js"><link rel="prefetch" href="/assets/js/18.012507c6.js"><link rel="prefetch" href="/assets/js/180.8b5e0529.js"><link rel="prefetch" href="/assets/js/181.9364fed2.js"><link rel="prefetch" href="/assets/js/182.abe7c748.js"><link rel="prefetch" href="/assets/js/183.9ac44e0e.js"><link rel="prefetch" href="/assets/js/184.24f835a5.js"><link rel="prefetch" href="/assets/js/185.ef828c13.js"><link rel="prefetch" href="/assets/js/186.2cd4ae9b.js"><link rel="prefetch" href="/assets/js/187.4989b84d.js"><link rel="prefetch" href="/assets/js/188.30e7c5b9.js"><link rel="prefetch" href="/assets/js/189.257aa931.js"><link rel="prefetch" href="/assets/js/19.c25881ee.js"><link rel="prefetch" href="/assets/js/190.b2706c5c.js"><link rel="prefetch" href="/assets/js/191.9e2fa356.js"><link rel="prefetch" href="/assets/js/192.a30016e1.js"><link rel="prefetch" href="/assets/js/193.992b55a5.js"><link rel="prefetch" href="/assets/js/194.9a20deb1.js"><link rel="prefetch" href="/assets/js/195.ec60ca02.js"><link rel="prefetch" href="/assets/js/196.36c80fd6.js"><link rel="prefetch" href="/assets/js/197.2c6cdc0e.js"><link rel="prefetch" href="/assets/js/198.dcdacef4.js"><link rel="prefetch" href="/assets/js/20.d2c84fe9.js"><link rel="prefetch" href="/assets/js/21.456fe10f.js"><link rel="prefetch" href="/assets/js/22.8b2266ed.js"><link rel="prefetch" href="/assets/js/23.bd8fc307.js"><link rel="prefetch" href="/assets/js/24.abe92a4a.js"><link rel="prefetch" href="/assets/js/25.b2fca8cc.js"><link rel="prefetch" href="/assets/js/26.c283e9bb.js"><link rel="prefetch" href="/assets/js/27.66b19172.js"><link rel="prefetch" href="/assets/js/28.2d6daffa.js"><link rel="prefetch" href="/assets/js/29.40262d12.js"><link rel="prefetch" href="/assets/js/30.05ea4f94.js"><link rel="prefetch" href="/assets/js/31.e7953efb.js"><link rel="prefetch" href="/assets/js/32.bb6dc178.js"><link rel="prefetch" href="/assets/js/33.168db12b.js"><link rel="prefetch" href="/assets/js/34.9324222e.js"><link rel="prefetch" href="/assets/js/35.01698b9c.js"><link rel="prefetch" href="/assets/js/36.aa6a4b93.js"><link rel="prefetch" href="/assets/js/37.c2fe6fe3.js"><link rel="prefetch" href="/assets/js/39.021538ca.js"><link rel="prefetch" href="/assets/js/4.aa6490bf.js"><link rel="prefetch" href="/assets/js/40.bd2bc5e7.js"><link rel="prefetch" href="/assets/js/41.1d141937.js"><link rel="prefetch" href="/assets/js/42.3eac3c75.js"><link rel="prefetch" href="/assets/js/43.dcf95fb5.js"><link rel="prefetch" href="/assets/js/44.ba342d24.js"><link rel="prefetch" href="/assets/js/45.ec0c95e6.js"><link rel="prefetch" href="/assets/js/46.6c228836.js"><link rel="prefetch" href="/assets/js/47.e0b1efd4.js"><link rel="prefetch" href="/assets/js/48.17106a86.js"><link rel="prefetch" href="/assets/js/49.d24a36fe.js"><link rel="prefetch" href="/assets/js/5.5021d13c.js"><link rel="prefetch" href="/assets/js/50.1e27a5c8.js"><link rel="prefetch" href="/assets/js/51.3f252642.js"><link rel="prefetch" href="/assets/js/52.a63b41c9.js"><link rel="prefetch" href="/assets/js/53.4eaaca26.js"><link rel="prefetch" href="/assets/js/54.3cb6f085.js"><link rel="prefetch" href="/assets/js/55.976010d2.js"><link rel="prefetch" href="/assets/js/56.ff8caea3.js"><link rel="prefetch" href="/assets/js/57.a8ecfda1.js"><link rel="prefetch" href="/assets/js/58.9e4e3a36.js"><link rel="prefetch" href="/assets/js/59.a59efd57.js"><link rel="prefetch" href="/assets/js/6.28826e69.js"><link rel="prefetch" href="/assets/js/60.27c4fcd4.js"><link rel="prefetch" href="/assets/js/61.b6435aef.js"><link rel="prefetch" href="/assets/js/62.05126af2.js"><link rel="prefetch" href="/assets/js/63.5685ec25.js"><link rel="prefetch" href="/assets/js/64.e255ead0.js"><link rel="prefetch" href="/assets/js/65.443233d1.js"><link rel="prefetch" href="/assets/js/66.58e1b039.js"><link rel="prefetch" href="/assets/js/67.d1f44273.js"><link rel="prefetch" href="/assets/js/68.6dbc079c.js"><link rel="prefetch" href="/assets/js/69.59ae4aea.js"><link rel="prefetch" href="/assets/js/7.87a04a7a.js"><link rel="prefetch" href="/assets/js/70.15324845.js"><link rel="prefetch" href="/assets/js/71.6f74dcde.js"><link rel="prefetch" href="/assets/js/72.76338e49.js"><link rel="prefetch" href="/assets/js/73.f2966608.js"><link rel="prefetch" href="/assets/js/74.456df025.js"><link rel="prefetch" href="/assets/js/75.7c90efaf.js"><link rel="prefetch" href="/assets/js/76.4033a860.js"><link rel="prefetch" href="/assets/js/77.efa1010a.js"><link rel="prefetch" href="/assets/js/78.4d00931f.js"><link rel="prefetch" href="/assets/js/79.d75cb47f.js"><link rel="prefetch" href="/assets/js/8.62ce477c.js"><link rel="prefetch" href="/assets/js/80.eaa60fee.js"><link rel="prefetch" href="/assets/js/81.c464c6ec.js"><link rel="prefetch" href="/assets/js/82.01534af2.js"><link rel="prefetch" href="/assets/js/83.90ddb538.js"><link rel="prefetch" href="/assets/js/84.31a7306b.js"><link rel="prefetch" href="/assets/js/85.38a7ef79.js"><link rel="prefetch" href="/assets/js/86.b72ad5f3.js"><link rel="prefetch" href="/assets/js/87.0c2ab5b4.js"><link rel="prefetch" href="/assets/js/88.6d75ad37.js"><link rel="prefetch" href="/assets/js/89.a01a195a.js"><link rel="prefetch" href="/assets/js/9.adf3f42d.js"><link rel="prefetch" href="/assets/js/90.e57522c2.js"><link rel="prefetch" href="/assets/js/91.40608853.js"><link rel="prefetch" href="/assets/js/92.8cd151d2.js"><link rel="prefetch" href="/assets/js/93.003cae43.js"><link rel="prefetch" href="/assets/js/94.e11a7ef9.js"><link rel="prefetch" href="/assets/js/95.d3a0e866.js"><link rel="prefetch" href="/assets/js/96.f84930d3.js"><link rel="prefetch" href="/assets/js/97.b3b382e1.js"><link rel="prefetch" href="/assets/js/98.7cc754ce.js"><link rel="prefetch" href="/assets/js/99.bbaabb48.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.3977d582.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e3cb5c2f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">朝花夕拾</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  技术方案
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  数据结构与算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Introduction.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/FrontEnd/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vue3.tanyp.xyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/AngularJS/" class="nav-link">
  AngularJS
</a></li></ul></div></div><div class="nav-item"><a href="/JsFrame/" class="nav-link">
  技术方案
</a></div><div class="nav-item"><a href="/FrontEndTool/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link router-link-active">
  TypeScript
</a></div><div class="nav-item"><a href="/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/notes/" class="nav-link">
  Notes
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  Reading
</a></div><div class="nav-item"><a href="/DSA/" class="nav-link">
  数据结构与算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/TS/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TS 基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TS/TS1.html" class="sidebar-link">TypeScript(1)</a></li><li><a href="/TS/TS2.html" aria-current="page" class="active sidebar-link">TypeScript(2)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TS/TS2.html#类型推论" class="sidebar-link">类型推论</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#类型兼容性" class="sidebar-link">类型兼容性</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#名义化类型" class="sidebar-link">名义化类型</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#✨-高级类型" class="sidebar-link">✨ 高级类型</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#lib-d-ts" class="sidebar-link">lib.d.ts</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#流动的类型" class="sidebar-link">流动的类型</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#命名空间" class="sidebar-link">命名空间</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#✨-一些手册指南中没有提及的内容" class="sidebar-link">✨ 一些手册指南中没有提及的内容</a></li><li class="sidebar-sub-header"><a href="/TS/TS2.html#参考" class="sidebar-link">参考</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-2"><a href="#typescript-2" class="header-anchor">#</a> TypeScript(2)</h1> <p></p><div class="table-of-contents"><ul><li><a href="#类型推论">类型推论</a><ul><li><a href="#上下文类型">上下文类型</a></li><li><a href="#noimplicitany">noImplicitAny</a></li></ul></li><li><a href="#类型兼容性">类型兼容性</a><ul><li><a href="#协变-covariant-逆变-contravariant-双向协变-bivariant">协变（Covariant），逆变（Contravariant），双向协变（Bivariant）</a></li><li><a href="#对象兼容性-协变-covariant">对象兼容性 协变（Covariant）</a></li><li><a href="#✨-函数兼容性">✨ 函数兼容性</a></li><li><a href="#枚举兼容性">枚举兼容性</a></li><li><a href="#类兼容性">类兼容性</a></li><li><a href="#泛型兼容性">泛型兼容性</a></li><li><a href="#兼容性总结">兼容性总结</a></li></ul></li><li><a href="#名义化类型">名义化类型</a><ul><li><a href="#使用字面量类型">使用字面量类型</a></li><li><a href="#使用枚举">使用枚举</a></li><li><a href="#使用接口">使用接口</a></li></ul></li><li><a href="#✨-高级类型">✨ 高级类型</a><ul><li><a href="#交叉类型">交叉类型</a></li><li><a href="#联合类型">联合类型</a></li><li><a href="#类型保护">类型保护</a></li><li><a href="#null-类型">null 类型</a></li><li><a href="#✨-类型别名">✨ 类型别名</a></li><li><a href="#字符串字面量类型">字符串字面量类型</a></li><li><a href="#数字字面量类型">数字字面量类型</a></li><li><a href="#索引类型">索引类型</a></li><li><a href="#映射类型">映射类型</a></li><li><a href="#内置映射类型">内置映射类型</a></li></ul></li><li><a href="#lib-d-ts">lib.d.ts</a><ul><li><a href="#修改原始类型">修改原始类型</a></li></ul></li><li><a href="#流动的类型">流动的类型</a><ul><li><a href="#复制类型">复制类型</a></li><li><a href="#获取变量的类型">获取变量的类型</a></li><li><a href="#获取类-实例-成员的类型">获取类（实例）成员的类型</a></li><li><a href="#获取字面量类型">获取字面量类型</a></li></ul></li><li><a href="#命名空间">命名空间</a><ul><li><a href="#命名空间别名">命名空间别名</a></li><li><a href="#使用其他-javascript-库">使用其他 javascript 库</a></li></ul></li><li><a href="#✨-一些手册指南中没有提及的内容">✨ 一些手册指南中没有提及的内容</a><ul><li><a href="#只读数组的新语法">只读数组的新语法</a></li><li><a href="#const-类型断言">const 类型断言</a></li><li><a href="#unknown-类型">unknown 类型</a></li><li><a href="#✨✨✨infer">✨✨✨infer</a></li><li><a href="#type-omit">type Omit</a></li></ul></li><li><a href="#参考">参考</a></li></ul></div><p></p> <h2 id="类型推论"><a href="#类型推论" class="header-anchor">#</a> 类型推论</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// x被自动推断为number</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">// zoo被自动推断为(Rhino | Elephant | Snake)[]类型</span>
<span class="token comment">// 如果Rhino，Elephant，Snake有同一种超类型Animal，zoo会被推断为Animal[]类型</span>
<span class="token keyword">let</span> zoo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Rhino</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Elephant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Snake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="上下文类型"><a href="#上下文类型" class="header-anchor">#</a> 上下文类型</h3> <p>typescript 会根据 window.onmousedown 的类型，推断出右侧的函数的类型。</p> <p>👻：这一部分内容在<a href="https://www.tslang.cn/" target="_blank" rel="noopener noreferrer">typescript 中文网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中表现是不一致的。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// typescript可以推断出mouseEvent为MouseEvent类型</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ok</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
  <span class="token comment">// error</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">.</span>kangaroo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>uiEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// error，uiEvent会自动推断出为UIEvent类型，UIEvent类型不包含button属性</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uiEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="noimplicitany"><a href="#noimplicitany" class="header-anchor">#</a> noImplicitAny</h3> <p>开启编译选项<code>noImplicitAny</code>，当类型推断只能推断为<code>any</code>类型，编译器会发出警告</p> <h2 id="类型兼容性"><a href="#类型兼容性" class="header-anchor">#</a> 类型兼容性</h2> <p>typescript 的类型兼容是基于<strong>结构</strong>的，不是基于名义的。下面的代码在 ts 中是完全可以的，但在 java 等基于名义的语言则会抛错。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Named</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p<span class="token operator">:</span> Named
<span class="token comment">// ok</span>
p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 可以直接使用const断言(const断言的介绍，在后面)</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token string">'python'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
c <span class="token operator">=</span> <span class="token string">'Swift'</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="协变-covariant-逆变-contravariant-双向协变-bivariant"><a href="#协变-covariant-逆变-contravariant-双向协变-bivariant" class="header-anchor">#</a> 协变（Covariant），逆变（Contravariant），双向协变（Bivariant）</h3> <ul><li>协变（Covariant）父类 = 子类 👌；子类 = 父类 🙅</li> <li>逆变（Contravariant）父类 = 子类 🙅；子类 = 父类 👌</li> <li>双向协变（Bivariant）父类 = 子类 👌；子类 = 父类 👌</li></ul> <h3 id="对象兼容性-协变-covariant"><a href="#对象兼容性-协变-covariant" class="header-anchor">#</a> 对象兼容性 协变（Covariant）</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> x<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token keyword">let</span> y<span class="token operator">!</span><span class="token operator">:</span> Bar

x <span class="token operator">=</span> y <span class="token comment">// ok</span>
y <span class="token operator">=</span> x <span class="token comment">// error</span>
</code></pre></div><h3 id="✨-函数兼容性"><a href="#✨-函数兼容性" class="header-anchor">#</a> ✨ 函数兼容性</h3> <h4 id="函数参数类型兼容性-双向协变-bivariant-逆变-contravariant"><a href="#函数参数类型兼容性-双向协变-bivariant-逆变-contravariant" class="header-anchor">#</a> 函数参数类型兼容性 双向协变（Bivariant）逆变（Contravariant）</h4> <p>函数参数的兼容性，具有双向协变性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 动物</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 猫</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 美国短尾猫</span>
<span class="token keyword">interface</span> <span class="token class-name">USAShorthair</span> <span class="token keyword">extends</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// ok，是安全的</span>
<span class="token keyword">const</span> handle1<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ok，不安全，但是被允许</span>
<span class="token comment">// 因为type handle的参数是Cat类型，表明是可以允许接受其他，Cat的子类型的</span>
<span class="token comment">// 如果it是USAShorthair类型，则会拒绝其他Cat的子类，所以是不安全的</span>
<span class="token keyword">const</span> handle2<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> USAShorthair<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h5 id="禁用函数参数双向协变性-逆变-contravariant"><a href="#禁用函数参数双向协变性-逆变-contravariant" class="header-anchor">#</a> 禁用函数参数双向协变性 逆变（Contravariant）</h5> <p>开启了<code>strictFunctionTypes</code>编译选项，会禁用函数参数的双向协变。参数类型是逆变的</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token comment">// ok</span>
<span class="token keyword">const</span> handle1<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// error</span>
<span class="token keyword">const</span> handle2<span class="token operator">:</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span>it<span class="token operator">:</span> USAShorthair<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="函数返回值类型兼容性-协变-covariant"><a href="#函数返回值类型兼容性-协变-covariant" class="header-anchor">#</a> 函数返回值类型兼容性 协变（Covariant）</h4> <p>如果函数返回值是一个对象，兼容性同对象一样</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// Bar是Foo的子类，返回值类型兼容性是协变的</span>
<span class="token comment">// Foo（父类） = Bar（子类） ok</span>
<span class="token keyword">let</span> <span class="token function-variable function">x</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Foo
<span class="token keyword">let</span> <span class="token function-variable function">y</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Bar
x <span class="token operator">=</span> y <span class="token comment">// ok</span>
y <span class="token operator">=</span> x <span class="token comment">// error</span>
</code></pre></div><h4 id="函数参数的数量兼容性"><a href="#函数参数的数量兼容性" class="header-anchor">#</a> 函数参数的数量兼容性</h4> <p>函数可以允许忽略一部分参数（具有逆变性？）</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> <span class="token function-variable function">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">void</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 参数数量少</span>
<span class="token keyword">let</span> <span class="token function-variable function">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">void</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 参数数量多</span>
y <span class="token operator">=</span> x <span class="token comment">// ok</span>
x <span class="token operator">=</span> y <span class="token comment">// error</span>
</code></pre></div><h3 id="枚举兼容性"><a href="#枚举兼容性" class="header-anchor">#</a> 枚举兼容性</h3> <p>枚举类型与数字类型兼容，不同枚举类型之间不兼容</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Bar <span class="token punctuation">{</span>
  <span class="token constant">T</span><span class="token punctuation">,</span>
  <span class="token constant">R</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> Foo <span class="token punctuation">{</span>
  <span class="token constant">T</span><span class="token punctuation">,</span>
  <span class="token constant">R</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// ok</span>
<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> Bar<span class="token punctuation">.</span><span class="token constant">T</span>
<span class="token comment">// error</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> Foo <span class="token operator">=</span> Bar<span class="token punctuation">.</span><span class="token constant">T</span>
</code></pre></div><h3 id="类兼容性"><a href="#类兼容性" class="header-anchor">#</a> 类兼容性</h3> <p>类类型的兼容性和对象字面量类似。但类类型只会比较类的实例部分，静态成员和构造函数不在兼容性的比较范围内。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Faz</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> version<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> Bar
<span class="token keyword">let</span> foo<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token keyword">let</span> faz<span class="token operator">!</span><span class="token operator">:</span> Faz
<span class="token keyword">let</span> boo<span class="token operator">!</span><span class="token operator">:</span> Boo
foo <span class="token operator">=</span> bar <span class="token comment">// error，缺少age实例属性，兼容性的规则和对象类似</span>
bar <span class="token operator">=</span> foo <span class="token comment">// ok</span>
bar <span class="token operator">=</span> faz <span class="token comment">// error，name和age不兼容</span>
boo <span class="token operator">=</span> bar <span class="token comment">// ok，静态成员不会比较兼容性</span>
</code></pre></div><h3 id="泛型兼容性"><a href="#泛型兼容性" class="header-anchor">#</a> 泛型兼容性</h3> <p>泛型进行兼容性比较时，需要指定泛型参数后比较。当没有指定泛型参数时，泛型参数默认为<code>any</code>类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Bar<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Foo<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">U</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Far<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token constant">R</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Bar<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> b<span class="token operator">!</span><span class="token operator">:</span> Foo<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> c<span class="token operator">!</span><span class="token operator">:</span> Far<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
a <span class="token operator">=</span> b <span class="token comment">// ok</span>
b <span class="token operator">=</span> c <span class="token comment">// error</span>
</code></pre></div><h3 id="兼容性总结"><a href="#兼容性总结" class="header-anchor">#</a> 兼容性总结</h3> <ul><li>对象兼容性 协变（Covariant）</li> <li>函数兼容性
<ul><li>函数参数兼容性 双向协变（Bivariant）-更安全-&gt; 逆变（Contravariant）</li> <li>函数返回值兼容 协变（Covariant）</li> <li>函数参数个数 逆变（Contravariant）</li></ul></li> <li>枚举兼容性（数字 &lt;= 枚举 ok，枚举 a &lt;= 枚举 b error）</li> <li>类兼容性（和对象兼容性类型类似）</li> <li>泛型兼容性（需要指定泛型参数后比较）</li></ul> <h2 id="名义化类型"><a href="#名义化类型" class="header-anchor">#</a> 名义化类型</h2> <p>ts 的兼容性是基于结构的。但有时，我们确实想要区分，结构相同的两种类型。</p> <h3 id="使用字面量类型"><a href="#使用字面量类型" class="header-anchor">#</a> 使用字面量类型</h3> <p>使用字面量类型区分结构相同的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  color<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> blackPeople<span class="token operator">!</span><span class="token operator">:</span> People<span class="token operator">&lt;</span><span class="token string">'black'</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> whitePeople<span class="token operator">!</span><span class="token operator">:</span> People<span class="token operator">&lt;</span><span class="token string">'white'</span><span class="token operator">&gt;</span>
<span class="token comment">// 结构相同，但是类型并不兼容</span>
<span class="token comment">// 例子没有涉及任何种族主义思想</span>
blackPeople <span class="token operator">=</span> whitePeople <span class="token comment">// error</span>
whitePeople <span class="token operator">=</span> blackPeople <span class="token comment">// error</span>
</code></pre></div><h3 id="使用枚举"><a href="#使用枚举" class="header-anchor">#</a> 使用枚举</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> FooEnum <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> BooEnum <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">FooTitular</span> <span class="token operator">=</span> Foo <span class="token operator">&amp;</span> FooEnum
<span class="token keyword">type</span> <span class="token class-name">BooTitular</span> <span class="token operator">=</span> Boo <span class="token operator">&amp;</span> BooEnum
<span class="token keyword">let</span> a<span class="token operator">:</span> FooTitular <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> FooTitular
<span class="token keyword">let</span> b<span class="token operator">:</span> BooTitular <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'456'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> BooTitular
<span class="token comment">// 结构相同但是不兼容</span>
a <span class="token operator">=</span> b <span class="token comment">// error</span>
b <span class="token operator">=</span> a <span class="token comment">// error</span>
</code></pre></div><h3 id="使用接口"><a href="#使用接口" class="header-anchor">#</a> 使用接口</h3> <p>为类型添加一个无关的属性，打破结构兼容性，这个无关的属性的命名习惯，通常是以<code>_</code>开头，以<code>Brand</code>结尾</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token keyword">extends</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  _aBrand<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  _bBrand<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token keyword">as</span> <span class="token builtin">any</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">'b'</span> <span class="token keyword">as</span> <span class="token builtin">any</span>
<span class="token comment">// 结构相同，但是类型不兼容</span>
a <span class="token operator">=</span> b <span class="token comment">// error</span>
b <span class="token operator">=</span> a <span class="token comment">// error</span>
</code></pre></div><h2 id="✨-高级类型"><a href="#✨-高级类型" class="header-anchor">#</a> ✨ 高级类型</h2> <h3 id="交叉类型"><a href="#交叉类型" class="header-anchor">#</a> 交叉类型</h3> <p>将多种类型叠加成为一种类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">assign</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">U</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>y <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> foo<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> bar<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> boo <span class="token operator">=</span> <span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// boo是Bar &amp; Foo的交叉类型</span>
boo<span class="token punctuation">.</span>bar <span class="token comment">// ok</span>
boo<span class="token punctuation">.</span>foo <span class="token comment">// ok</span>
</code></pre></div><h3 id="联合类型"><a href="#联合类型" class="header-anchor">#</a> 联合类型</h3> <p>联合类型表示一个值可以是几种类型之一。当一个值是联合类型时，我们能确定它包含多种类型的共有成员。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz
a<span class="token punctuation">.</span><span class="token function">sex</span><span class="token punctuation">(</span>
  <span class="token comment">// error，当a是Boo，Baz类型时，是没有sex属性</span>
  a <span class="token keyword">as</span> Foo
<span class="token punctuation">)</span><span class="token punctuation">.</span>sex <span class="token comment">// ok</span>
</code></pre></div><h3 id="类型保护"><a href="#类型保护" class="header-anchor">#</a> 类型保护</h3> <h4 id="自定义类型保护"><a href="#自定义类型保护" class="header-anchor">#</a> 自定义类型保护</h4> <p>定义一个特殊的函数，返回值为<code>arg is type</code>类型谓词。arg 是自定义类型保护函数中的一个参数。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Boo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Baz</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">BooFooBaz</span> <span class="token operator">=</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Boo <span class="token operator">|</span> Foo <span class="token operator">|</span> Baz

<span class="token keyword">function</span> <span class="token function">isBoo</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> BooFooBaz<span class="token punctuation">)</span><span class="token operator">:</span> arg <span class="token keyword">is</span> Boo <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>arg <span class="token keyword">as</span> Boo<span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">'undefined'</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isBoo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="typeof-类型保护"><a href="#typeof-类型保护" class="header-anchor">#</a> typeof 类型保护</h4> <p>针对 number、string、boolean、symbol 提供类型保护。我们可以不必将<code>typeof</code>抽象成返回类型谓词的特殊函数。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="instanceof-类型保护"><a href="#instanceof-类型保护" class="header-anchor">#</a> instanceof 类型保护</h4> <p>针对类类型提供类型保护</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Bar <span class="token operator">|</span> Foo

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">.</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
  a<span class="token punctuation">.</span><span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Bar</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">.</span><span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ok</span>
  a<span class="token punctuation">.</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// error</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="in-类型保护"><a href="#in-类型保护" class="header-anchor">#</a> in 类型保护</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
  y<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">doStuff</span><span class="token punctuation">(</span>q<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断是否有x属性</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'x'</span> <span class="token keyword">in</span> q<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="字面量类型保护"><a href="#字面量类型保护" class="header-anchor">#</a> 字面量类型保护</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  type<span class="token operator">:</span> <span class="token string">'foo'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  type<span class="token operator">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">temp</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> Foo <span class="token operator">|</span> Bar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Foo类型</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Bar类型</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="null-类型"><a href="#null-类型" class="header-anchor">#</a> null 类型</h3> <p>null, undefined 可以赋值给任何类型。在 tsconfig.js 中添加<code>strictNullChecks</code>的配置，可以阻止这种行为。开启<code>strictNullChecks</code>后，一个变量默认不在自动包含<code>null</code>和<code>undefined</code>类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 开启strictNullChecks前</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span>
a <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// ok</span>

<span class="token comment">// 开启strictNullChecks后</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span>
b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// error</span>
</code></pre></div><h4 id="断言排除-undefined-null-类型"><a href="#断言排除-undefined-null-类型" class="header-anchor">#</a> 断言排除 undefined，null 类型</h4> <p>在变量名后添加<code>!</code>，可以断言排除 undefined 和 null 类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
a<span class="token punctuation">.</span>length <span class="token comment">// error</span>
a<span class="token operator">!</span><span class="token punctuation">.</span>length <span class="token comment">// ok</span>
</code></pre></div><h3 id="✨-类型别名"><a href="#✨-类型别名" class="header-anchor">#</a> ✨ 类型别名</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 类型别名也可用来声明函数</span>
<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">number</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 类型别名也可以是泛型</span>
<span class="token keyword">type</span> <span class="token class-name">Boo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token comment">// 类型别名中可以引用自身</span>
<span class="token keyword">type</span> <span class="token class-name">LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token constant">T</span>
  next<span class="token operator">:</span> LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span>
  prev<span class="token operator">:</span> LinkListNode<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="类型别名和接口的区别"><a href="#类型别名和接口的区别" class="header-anchor">#</a> 类型别名和接口的区别</h4> <ol><li>类型别名可以为任何类型引入名称。例如基本类型，联合类型等</li> <li>类型别名不支持继承</li> <li>类型别名不会创建一个真正的名字</li> <li>类型别名无法被实现，而接口可以被派生类实现</li> <li>类型别名重名时编译器会抛出错误，接口重名时会产生合并</li></ol> <h3 id="字符串字面量类型"><a href="#字符串字面量类型" class="header-anchor">#</a> 字符串字面量类型</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> <span class="token string">'js'</span>
a <span class="token operator">=</span> <span class="token string">'js'</span> <span class="token comment">// ok</span>
a <span class="token operator">=</span> <span class="token string">'java'</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> b<span class="token operator">!</span><span class="token operator">:</span> <span class="token string">'c#'</span> <span class="token operator">|</span> <span class="token string">'c++'</span>
b <span class="token operator">=</span> <span class="token string">'c#'</span> <span class="token comment">// ok</span>
b <span class="token operator">=</span> <span class="token string">'.net'</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="数字字面量类型"><a href="#数字字面量类型" class="header-anchor">#</a> 数字字面量类型</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">!</span><span class="token operator">:</span> <span class="token number">1</span>
x <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> y<span class="token operator">!</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>
y <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// ok</span>
y <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="索引类型"><a href="#索引类型" class="header-anchor">#</a> 索引类型</h3> <h4 id="索引类型查询操作符"><a href="#索引类型查询操作符" class="header-anchor">#</a> 索引类型查询操作符</h4> <p><code>keyof T</code>的结果为<code>T</code>上公共属性名的联合</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Keys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">interface</span> <span class="token class-name">Witcher</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// Witcher公共属性名的联合</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witcher<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// name | age</span>
typKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Witchers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witchers<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// '0' | '1' | length | toString……</span>

<span class="token keyword">type</span> <span class="token class-name">Keys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Witchers</span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> Keys<span class="token operator">&lt;</span>Witchers<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// number | length | toString……</span>
funion <span class="token generic-function"><span class="token function">pluck</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>o<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> names<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> o<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> witcher <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'杰洛特'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">88</span>
<span class="token punctuation">}</span>
<span class="token comment">// (string | number)[]</span>
<span class="token comment">// ['杰洛特', '88']</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token function">pluck</span><span class="token punctuation">(</span>witcher<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="索引访问操作符"><a href="#索引访问操作符" class="header-anchor">#</a> 索引访问操作符</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">，索引访问操作符。但是需要确保</span><span class="token template-punctuation string">`</span></span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="映射类型"><a href="#映射类型" class="header-anchor">#</a> 映射类型</h3> <p>从旧类型中创建出一种新的类型，映射类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 只读映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">CustomReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可选映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">CustomPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可为空可为undefined映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">NullUndefinedable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
typCustomPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token comment">// 提取出指定的key的类型</span>
<span class="token comment">// Foo = { name: string, age: number }</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> CustomPick<span class="token operator">&lt;</span>Bar<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
typCustomRecord<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// { name: string, title: string, message: string }</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> CustomRecord<span class="token operator">&lt;</span><span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'title'</span> <span class="token operator">|</span> <span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="内置映射类型"><a href="#内置映射类型" class="header-anchor">#</a> 内置映射类型</h3> <h4 id="exclude"><a href="#exclude" class="header-anchor">#</a> Exclude</h4> <p><code>Exclude</code>，从<code>T</code>出提取出，不能赋值给<code>U</code>的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// string | boolean</span>
<span class="token comment">// string | boolean 不能赋值给number类型</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="extract"><a href="#extract" class="header-anchor">#</a> Extract</h4> <p><code>Extract</code>，从<code>T</code>出提取出，能赋值给<code>U</code>的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// number</span>
<span class="token comment">// 只有number能给赋值给number类型</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="nonnullable"><a href="#nonnullable" class="header-anchor">#</a> NonNullable</h4> <p><code>NonNullable</code>，从<code>T</code>中剔除 null 和 undefined 类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token comment">// Foo</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span>Bar<span class="token operator">&gt;</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span> Foo
<span class="token comment">// error</span>
a <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><p>基于<code>NonNullable</code>封装，剔除属性中 null 和 undefined 类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">NonNullUndefinedable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
  sex<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
<span class="token comment">// Foo { name: string, age: number, sex: boolean }</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> NonNullUndefinedable<span class="token operator">&lt;</span>Bar<span class="token operator">&gt;</span>
</code></pre></div><h4 id="returntype"><a href="#returntype" class="header-anchor">#</a> ReturnType</h4> <p><code>ReturnType</code>，获取<code>T</code>的返回值类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">BarCall</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span>
<span class="token comment">// number</span>
<span class="token keyword">type</span> <span class="token class-name">BarReturn</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>BarCall<span class="token operator">&gt;</span>
</code></pre></div><h4 id="instancetype"><a href="#instancetype" class="header-anchor">#</a> InstanceType</h4> <p><code>InstanceType</code>，获取<code>T</code>的实例类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// Bar, Bar的构造函数的实例类型，就是Bar类型</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Bar<span class="token operator">&gt;</span>
</code></pre></div><h4 id="omit"><a href="#omit" class="header-anchor">#</a> Omit</h4> <p>Omit 在 ts3.5 版本已经成为内置类型（见下文）</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Exclude&lt;keyof T, K&gt;从key of T中出剔除所有K的类型</span>
<span class="token comment">// Pick&lt;T, U&gt;映射出只有U属性的新类型</span>
<span class="token comment">// 模拟Omit映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">CustomOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span>
</code></pre></div><h2 id="lib-d-ts"><a href="#lib-d-ts" class="header-anchor">#</a> lib.d.ts</h2> <p>在安装<code>typescript</code>时，会安装一系列声明文件<code>lib.dom.d.ts</code>，<code>lib.es2015.core.d.ts</code>等。它们包含了 javaScript 运行时以及 dom 中存在各种常见的环境声明</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// lib.dom.d.ts内容节选</span>

<span class="token comment">/** A window containing a DOM document; the document property points to the DOM document loaded in that window. */</span>
<span class="token keyword">interface</span> <span class="token class-name">Window</span>
  <span class="token keyword">extends</span> <span class="token class-name">EventTarget</span><span class="token punctuation">,</span>
    WindowTimers<span class="token punctuation">,</span>
    WindowSessionStorage<span class="token punctuation">,</span>
    WindowLocalStorage<span class="token punctuation">,</span>
    WindowConsole<span class="token punctuation">,</span>
    GlobalEventHandlers<span class="token punctuation">,</span>
    IDBEnvironment<span class="token punctuation">,</span>
    WindowBase64<span class="token punctuation">,</span>
    AnimationFrameProvider<span class="token punctuation">,</span>
    WindowOrWorkerGlobalScope<span class="token punctuation">,</span>
    WindowEventHandlers <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> applicationCache<span class="token operator">:</span> ApplicationCache
  <span class="token keyword">readonly</span> caches<span class="token operator">:</span> CacheStorage
  <span class="token keyword">readonly</span> clientInformation<span class="token operator">:</span> Navigator
  <span class="token keyword">readonly</span> closed<span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token keyword">readonly</span> crypto<span class="token operator">:</span> Crypto
  customElements<span class="token operator">:</span> CustomElementRegistry
  defaultStatus<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> devicePixelRatio<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token keyword">readonly</span> doNotTrack<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> document<span class="token operator">:</span> Document
  <span class="token comment">// ...more</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="修改原始类型"><a href="#修改原始类型" class="header-anchor">#</a> 修改原始类型</h3> <p>创建<code>globals.d.ts</code>全局的声明文件，在全局的声明文件中修改原始的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// globals.d.ts</span>

<span class="token comment">// 修改Window接口，添加helloworld方法</span>
<span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>
  <span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token string">'helloworld'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 修改Date的静态成员，添加today方法</span>
<span class="token keyword">interface</span> <span class="token class-name">DateConstructor</span> <span class="token punctuation">{</span>
  <span class="token function">today</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Date
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
window<span class="token punctuation">.</span><span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Date<span class="token punctuation">.</span><span class="token function">today</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="流动的类型"><a href="#流动的类型" class="header-anchor">#</a> 流动的类型</h2> <h3 id="复制类型"><a href="#复制类型" class="header-anchor">#</a> 复制类型</h3> <p><code>import</code>配合<code>namespace</code>或者<code>module</code>可以实现类型的复制。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> Bar <span class="token operator">=</span> Foo <span class="token comment">// Bar只是Foo的引用，不是类型</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> Bar <span class="token comment">// error，没有Bar类型</span>
nampace classs <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">import</span> Bar <span class="token operator">=</span> classs<span class="token punctuation">.</span>Foo <span class="token comment">// 可以实现复制类型</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> Bar <span class="token comment">// ok</span>
</code></pre></div><h3 id="获取变量的类型"><a href="#获取变量的类型" class="header-anchor">#</a> 获取变量的类型</h3> <p>使用<code>let</code>和<code>typeof</code>可以获取变量自身的类型（如果是使用<code>const</code>, 使用 typeof 获取的是字面量类型）</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token string">'bar'</span> <span class="token comment">// ok, bar为string类型</span>
bar <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment">// error</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token comment">// ok</span>
bar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">]</span> <span class="token comment">// error, bar为number[]类型</span>
</code></pre></div><h3 id="获取类-实例-成员的类型"><a href="#获取类-实例-成员的类型" class="header-anchor">#</a> 获取类（实例）成员的类型</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> _foo<span class="token operator">:</span> Foo
<span class="token comment">// bar为string类型，_foo是Foo的实例</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> <span class="token keyword">typeof</span> _foo<span class="token punctuation">.</span>name
</code></pre></div><h3 id="获取字面量类型"><a href="#获取字面量类型" class="header-anchor">#</a> 获取字面量类型</h3> <p>使用<code>const</code>关键字与<code>typeof</code>，可以获取字面量类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token keyword">let</span> bar<span class="token operator">!</span><span class="token operator">:</span> <span class="token keyword">typeof</span> foo
bar <span class="token operator">=</span> <span class="token string">'bar'</span> <span class="token comment">// error</span>
bar <span class="token operator">=</span> <span class="token string">'foo'</span> <span class="token comment">// ok, foo类型为foo</span>
</code></pre></div><h2 id="命名空间"><a href="#命名空间" class="header-anchor">#</a> 命名空间</h2> <p>使用命名空间组织代码，避免命名冲突。如果外部想访问命名空间内部的内容，命名空间中的内容，需要使用<code>export</code>导出</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Math <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">+</span> b
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="命名空间别名"><a href="#命名空间别名" class="header-anchor">#</a> 命名空间别名</h3> <p><code>import alias = namespace.namespace</code>，可以为命名空间创建别名</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Math <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">namespace</span> Geometry <span class="token punctuation">{</span>
      <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用时，会有多个层级的关系</span>
Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// 使用命名空间别名</span>
<span class="token keyword">import</span> Geometry <span class="token operator">=</span> Lib<span class="token punctuation">.</span>Math<span class="token punctuation">.</span>Geometry
Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="使用其他-javascript-库"><a href="#使用其他-javascript-库" class="header-anchor">#</a> 使用其他 javascript 库</h3> <p>ts 在使用，使用 js 编写的类库时，需要类型声明文件<code>xx.d.ts</code>，大部分类库通常会暴露一个顶级的对象，可以使用命名空间表示它们。举一个例子。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// node_modules/custom-lib/index.d.ts</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">namespace</span> Lib <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> Geometry <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">const</span> gravitationalConstant<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token comment">// c/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Lib<span class="token punctuation">,</span> gravitationalConstant <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'custom-lib'</span>

Lib<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">pythagoreanTheorem</span><span class="token punctuation">(</span>gravitationalConstant<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="✨-一些手册指南中没有提及的内容"><a href="#✨-一些手册指南中没有提及的内容" class="header-anchor">#</a> ✨ 一些手册指南中没有提及的内容</h2> <h3 id="只读数组的新语法"><a href="#只读数组的新语法" class="header-anchor">#</a> 只读数组的新语法</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 原来的语法</span>
<span class="token keyword">const</span> bar<span class="token operator">:</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">]</span>
<span class="token comment">// 新增的语法</span>
<span class="token keyword">const</span> boo<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="const-类型断言"><a href="#const-类型断言" class="header-anchor">#</a> const 类型断言</h3> <p>使用 const 断言，typescript 会为变量添加一个自身的字面量类型。举一个例子</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ts自动推导为x添加`string`类型</span>
<span class="token comment">// let x: string = '123'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'123'</span>
<span class="token comment">// x可以被再次赋值</span>
x <span class="token operator">=</span> <span class="token string">'456'</span>

<span class="token comment">// 使用const断言，会为x添加自身的字面量类型</span>
<span class="token comment">// let x: '123' = '123'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'123'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// error，x不能被重新赋值</span>
x <span class="token operator">=</span> <span class="token string">'456'</span>
</code></pre></div><p>使用 const 断言时：</p> <ol><li>对象字面量的属性，获得<code>readonly</code>的属性，成为只读属性</li> <li>数组字面量成为<code>readonly tuple</code>只读元组</li> <li>字面量类型不能被扩展（比如从<code>hello</code>类型到<code>string</code>类型）</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// type '&quot;hello&quot;'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">'hello'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// type '{ readonly text: &quot;hello&quot; }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre></div><p>const 断言支持两种语法，<code>as</code>语法，在非 tsx 文件中可以使用``语法</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// type '&quot;hello&quot;'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token string">'hello'</span>
<span class="token comment">// type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
<span class="token comment">// type '{ readonly text: &quot;hello&quot; }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">&gt;</span><span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="unknown-类型"><a href="#unknown-类型" class="header-anchor">#</a> unknown 类型</h3> <p><code>unknown</code>类型和<code>any</code>类型类似。与<code>any</code>类型不同的是。<code>unknown</code>类型可以接受任意类型赋值，但是<code>unknown</code>类型赋值给其他类型前，必须被断言。</p> <p><code>unknown</code>对那种<strong>想表示是任何值，但是使用前必须执行类型检查的 api</strong>很有用。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// ok</span>
<span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x

<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// error</span>
<span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x
<span class="token comment">// ok，必须经过断言处理才能赋值给确认的类型</span>
<span class="token keyword">let</span> z<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x <span class="token keyword">as</span> <span class="token builtin">number</span>
</code></pre></div><h3 id="✨✨✨infer"><a href="#✨✨✨infer" class="header-anchor">#</a> ✨✨✨infer</h3> <p>一开始，我很难理解 infer 到底是做什么的，我们从两个简单的示例开始</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Pro<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token operator">&gt;</span></span> <span class="token operator">?</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Pro<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span> <span class="token comment">// Bar = Promise&lt;string[]&gt;，Promise&lt;string[]&gt;满足Promise&lt;R&gt;的约束</span>
<span class="token keyword">type</span> <span class="token class-name">Boo</span> <span class="token operator">=</span> Pro<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token comment">// Boo = number</span>
</code></pre></div><p><code>type Pro</code>，会检查泛型参数<code>T</code>，如果泛型参数<code>T</code>满足<code>Promise</code>的约束条件，返回<code>Promise</code>的类型，否则返回<code>T</code>类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Param<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name">getUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> object

<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Param<span class="token operator">&lt;</span>getUser<span class="token operator">&gt;</span> <span class="token comment">// Foo等于getUser的参数类型，number类型</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Param<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token comment">// Bar等于boolean类型</span>
</code></pre></div><p><code>type Param</code>，会检查泛型参数<code>T</code>，如果泛型参数<code>T</code>满足<code>(param: infer P) =&gt; any</code>的约束，会返回参数的类型，否则返回<code>T</code>类型</p> <h4 id="infer-映射类型"><a href="#infer-映射类型" class="header-anchor">#</a> infer 映射类型</h4> <p>typescript 中内置的 infer 映射类型</p> <h5 id="type-returntype"><a href="#type-returntype" class="header-anchor">#</a> type ReturnType</h5> <p>提取获取函数的返回值的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// Foo = string[]</span>
</code></pre></div><p><code>type ReturnType</code>内部的具体实现</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 自定义ReturnType映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">CustomReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">P</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token constant">T</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> CustomReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// Foo = string[]</span>
</code></pre></div><h5 id="type-constructorparameters"><a href="#type-constructorparameters" class="header-anchor">#</a> type ConstructorParameters</h5> <p>提取构造函数的参数类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Params</span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Foo<span class="token operator">&gt;</span> <span class="token comment">// [string, number]</span>
</code></pre></div><p><code>type ConstructorParameters</code>内部具体实现</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ConstructorParameters映射类型</span>
<span class="token keyword">type</span> <span class="token class-name">CustomConstructorParameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">new</span></span> <span class="token punctuation">(</span>
  <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token operator">?</span> <span class="token constant">P</span>
  <span class="token operator">:</span> <span class="token builtin">never</span>
<span class="token keyword">type</span> <span class="token class-name">Params</span> <span class="token operator">=</span> CustomConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Foo<span class="token operator">&gt;</span> <span class="token comment">// [string, number]</span>
</code></pre></div><h4 id="元组类型-联合类型"><a href="#元组类型-联合类型" class="header-anchor">#</a> 元组类型 -&gt; 联合类型</h4> <p>如何将 <code>[string, number]</code> 转变成 <code>string | number</code>?</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">CustomTuple</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">TupleToUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">P</span><span class="token operator">&gt;</span></span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span>

<span class="token keyword">type</span> <span class="token class-name">CustomUnion</span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span>CustomTuple<span class="token operator">&gt;</span> <span class="token comment">// string | number | boolean</span>
</code></pre></div><h4 id="联合类型-交叉类型"><a href="#联合类型-交叉类型" class="header-anchor">#</a> 联合类型 -&gt; 交叉类型</h4> <p>《TypeScript 深入浅出》中的例子，在目前的版本（3.6.4）中存在一些<a href="https://github.com/microsoft/TypeScript/issues/34732" target="_blank" rel="noopener noreferrer">问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="type-omit"><a href="#type-omit" class="header-anchor">#</a> type Omit</h3> <p><code>Omit</code>是 3.5 版本中新增的映射类型, 从<code>T</code>中删除所有的<code>K</code>类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bar = { name: string }</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>
</code></pre></div><p>在之前的版本中可以使用<code>type Omit = Pick&gt;</code>实现</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p>感谢大佬们的付出 ❤️</p> <ul><li><a href="https://jkchao.cn/" target="_blank" rel="noopener noreferrer">✨ 三毛大佬的博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer">深入理解 TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.tslang.cn/" target="_blank" rel="noopener noreferrer">TypeScript 中文网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://dev.to/aexol/typescript-tutorial-infer-keyword-2cn" target="_blank" rel="noopener noreferrer">TypeScript Tutorial - 'infer' keyword<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[<a href="https://zhuanlan.zhihu.com/p/58704376" target="_blank" rel="noopener noreferrer">TypeScript 奇技淫巧] union to tuple<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance" target="_blank" rel="noopener noreferrer">What are covariance and contravariance?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.educba.com/typescript-type-vs-interface/" target="_blank" rel="noopener noreferrer">Differences Between TypeScript Type vs Interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <blockquote><p>文章来源 <a href="https://juejin.im/post/5db429d0f265da4d204f34e0" target="_blank" rel="noopener noreferrer">「学习笔记」TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TS/TS1.html" class="prev">
        TypeScript(1)
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.86ce1c3b.js" defer></script><script src="/assets/js/38.9c1eeb6e.js" defer></script><script src="/assets/js/3.dea4e8e5.js" defer></script><script src="/assets/js/162.b5f59b9d.js" defer></script>
  </body>
</html>
